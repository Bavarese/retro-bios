		
			ORG	0000h
		
0000	31 20AC	L_0000	lxi	sp,&H20AC ; Начальное значение указателя стека
0003	21 FFFF		lxi	hl,&HFFFF ; Очистка памяти в диапазоне
0006	3E F8		mvi	a,&HF8	; F900-FFFF
0008	36 00	L_0008	mvi	m,&H00
000A	2B 		dcx	hl
000B	BC 		cmp	h
000C	FA 0008		jm	L_0008
000F	3E BF		mvi	a,&HBF	; Заполнение видеопамяти в диапазоне
0011	36 20	L_0011	mvi	m,&H20	; C000-F8FF пробелами
0013	2B 		dcx	hl
0014	BC 		cmp	h
0015	FA 0011		jm	L_0011
0018	21 2100		lxi	hl,&H2100 ; Очистка системного ОЗУ в диапазоне
001B	2D 	L_001B	dcr	l	; 2000-20FF
001C	36 00		mvi	m,&H00
001E	C2 001B		jnz	L_001B
0021	3E 83		mvi	a,&H83	; Инициализация параллельного порта
0023	D3 7B		out	&H7B	; A-вывод,B-ввод,C03-ввод,С47-вывод
0025	3E 7E		mvi	a,&H7E	; Настройка УСК - синхр 1:16, 8 бит,
0027	D3 6F		out	&H6F	; контроль по четности, 1 стоп-бит
0029	3E 14		mvi	a,&H14
002B	D3 6F		out	&H6F
002D	21 0BD6		lxi	hl,&H0BD6 ; Настройка контроллера прерываний
0030	7D 		mov	a,l	; на адрес 0BC0H, интервал 4 байта
0031	D3 5E		out	&H5E
0033	7C 		mov	a,h
0034	D3 5F		out	&H5F
0036	3E F5		mvi	a,&HF5	; Разрешить прерывания по входам 1 и 3
0038	D3 5F		out	&H5F
003A	DB 6E		in	&H6E	; Прочесть данные с клавиатуры
003C	3E 02		mvi	a,&H02	; Установить в параметрах ЛАТ, НР и
003E	32 20B4		sta	&H20B4	; клавиша ВР отжата
0041	CD 031F		call	L_031F	; Вывод режима алфавита ЛАТ/РУС
0044	CD 0302		call	L_0302	; Вывод регистра НР/ВР
0047	AF 		xra	a	; Клавиша СУ отжата
0048	32 20B3		sta	&H20B3
004B	3E 30		mvi	a,&H30	; Установить режимы в статусной строке
004D	32 F8EE		sta	&HF8EE	; Использовать КОИ Н0 и Н1
0050	32 F8F3		sta	&HF8F3	; Разрешение автоповтора
0053	32 F8F7		sta	&HF8F7	; Не отображать управляющие символы
0056	32 F8FC		sta	&HF8FC	; Контроль по нечетности
0059	32 F8FA		sta	&HF8FA	; Отключить контроль по чет/нечет
005C	32 F8F5		sta	&HF8F5	; Не фиксировать маркер в конце строки
005F	32 F8F0		sta	&HF8F0	; Нет АВТО ПС, ВК
0062	32 F8EC		sta	&HF8EC	; Режим XON/XOFF отключен
0065	3E 32		mvi	a,&H32	; Использовать 2 стоп-бита для послед.
0067	32 F8FE		sta	&HF8FE	; адаптера (линия)
006A	3E CE		mvi	a,&HCE	; Парам.посл.адаптера(линия):2 стоп-
006C	32 20B1		sta	&H20B1	; бита, контроль запрещ., 8 бит, 1:16
006F	21 F8CD		lxi	hl,&HF8CD ; Вывод в статусной строке ЛИН
0072	36 EC		mvi	m,&HEC
0074	23 		inx	hl
0075	36 E9		mvi	m,&HE9
0077	23 		inx	hl
0078	36 EE		mvi	m,&HEE
007A	06 00		mvi	b,&H00	; Координаты курсора - 0,0
007C	48 		mov	c,b
007D	78 		mov	a,b	; Установить рулон на самую первую
007E	D3 78		out	&H78	; строку
0080	CD 0939		call	L_0939	; Вычислить адрес курсора в видеопамяти
0083	36 7F		mvi	m,&H7F	; Установить курсор
0085	21 C0C0		lxi	hl,&HC0C0 ; Установка указателей буфера на
0088	22 20AE		shld	&H20AE	; начало
008B	CD 0A9F		call	L_0A9F	; Уст.признаков по переключателям
008E	CD 0920	L_008E	call	L_0920	; Прочесть символ с линии
0091	FE 20		cmpi	&H20	; Это управляющий символ ?
0093	FA 096C		jm	L_096C	; Да
0096	5F 	L_0096	mov	e,a	; Сохранить символ в E
0097	3A F8EE		lda	&HF8EE	; Выбран набор КОИ Н2 ?
009A	0F 		rrc
009B	D2 00A7		jnc	L_00A7	; Нет
009E	7B 	L_009E	mov	a,e	; Передать символ в A
009F	FE 60		cmpi	&H60	; Символ в диапазоне 96-127 ?
00A1	F2 00B0		jp	L_00B0	; Да
00A4	C3 00B7		jmp	L_00B7
00A7	3A 20B4	L_00A7	lda	&H20B4	; Режим РУС/ЛАТ ?
00AA	E6 02		ani	&H02
00AC	7B 		mov	a,e
00AD	C2 00B7		jnz	L_00B7	; Режим ЛАТ
00B0	FE 20	L_00B0	cmpi	&H20	; Это управляющий символ ?
00B2	FA 00B7		jm	L_00B7	; Да
00B5	F6 80		ori	&H80	; Установить старший бит (кириллица)
00B7	5F 	L_00B7	mov	e,a
00B8	3A 20AD		lda	&H20AD	; Установлен режим псевдографики
00BB	0F 		rrc
00BC	D2 00D1		jnc	L_00D1	; Нет
00BF	7B 		mov	a,e
00C0	E6 7F		ani	&H7F	; Оставить семь бит
00C2	FE 40		cmpi	&H40	; Код меньше 64 ?
00C4	FA 00D1		jm	L_00D1	; Да
00C7	FE 60		cmpi	&H60	; Код больше или равен 96 ?
00C9	F2 00D1		jp	L_00D1	; Да
00CC	E6 1F		ani	&H1F	; Поставить 7-й бит и убрать 6-й и 5-й
00CE	F6 80		ori	&H80
00D0	5F 		mov	e,a
00D1	7B 	L_00D1	mov	a,e
00D2	CD 0939		call	L_0939	; Вычислить адрес курсора и символа
00D5	12 		stax	de	; Сохранить символ в видеопамяти
00D6	36 20		mvi	m,&H20	; Убрать курсор с экрана
00D8	79 		mov	a,c	; Координата X
00D9	FE 4F		cmpi	&H4F	; Достигли границы экрана (79) ?
00DB	CA 00E5		jz	L_00E5	; Да
00DE	0C 		inr	c	; X = X + 1
00DF	2C 		inr	l	; Перейти к след.адресу курсора
00E0	36 7F	L_00E0	mvi	m,&H7F	; Высветить курсор по новым координатам
00E2	C3 008E		jmp	L_008E	; Дальше на ожидание символа
00E5	3A F8F5	L_00E5	lda	&HF8F5	; Установлен режим фиксации курсора ?
00E8	0F 		rrc
00E9	DA 00E0		jc	L_00E0	; Да (координаты остались прежние)
00EC	0E 00		mvi	c,&H00	; X = 0
00EE	C3 07DF		jmp	L_07DF	; Переход на перевод строки
; Обработчик прерывания от клавиатуры
00F1	F5 	L_00F1	push	psw	; Сохранить регистры в стеке
00F2	E5 		push	hl
00F3	3E 20		mvi	a,&H20	; Команда "конец прерывания" для
00F5	D3 5E		out	&H5E	; контроллера прер., фикс. приоритет
00F7	DB 6E		in	&H6E	; Чтение кода клавиши
00F9	2F 		cma		; Инверсия кода и настройка на таблицу
00FA	C6 FD		adi	&HFD	; с адреса 0AFDH
00FC	6F 		mov	l,a
00FD	3E 00		mvi	a,&H00
00FF	CE 0A		aci	&H0A
0101	67 		mov	h,a
0102	7E 		mov	a,m	; A - преобразованный код
0103	32 20B5	L_0103	sta	&H20B5	; Сохранить код в памяти
0106	A7 		ana	a	; Установить признаки
0107	FA 0167		jm	L_0167	; Код в диапазоне 80H-FFH
010A	CA 021B		jz	L_021B	; Код равен нулю - возврат
010D	32 20B6		sta	&H20B6	; Сохранить для автоповтора
0110	3A 20B3		lda	&H20B3	; Нажата клавиша СУ ?
0113	A7 		ana	a
0114	CA 011F		jz	L_011F	; Нет
0117	3A 20B6		lda	&H20B6
011A	E6 1F		ani	&H1F	; Оставить только 5 мл.битов
011C	C3 0218		jmp	L_0218	; Передать в ЭВМ(ЛИН) или обраб.(АВТ)
011F	3A 20B6	L_011F	lda	&H20B6
0122	E6 40		ani	&H40	; Код в диапазоне 64-127 ?
0124	C2 014D		jnz	L_014D	; Да
0127	3A 20B6		lda	&H20B6
012A	E6 20		ani	&H20	; Код в диапазоне 32-63 ?
012C	C2 0135		jnz	L_0135	; Да
012F	3A 20B6	L_012F	lda	&H20B6
0132	C3 0218		jmp	L_0218	; Передать в ЭВМ(ЛИН) или обраб.(АВТ)
0135	3A 20B6	L_0135	lda	&H20B6
0138	E6 0F		ani	&H0F	; Это ПРОБЕЛ или 0 ?
013A	CA 012F		jz	L_012F	; Да
013D	3A 20B4		lda	&H20B4
0140	E6 05		ani	&H05	; Режим верх.регистра или нажата ВР ?
0142	EA 012F		jpe	L_012F	; Нет
0145	3A 20B6		lda	&H20B6
0148	EE 10		xri	&H10	; Изменить 4-й бит
014A	C3 0218		jmp	L_0218	; Передать в ЭВМ(ЛИН) или обраб.(АВТ)
014D	3A 20B6	L_014D	lda	&H20B6
0150	E6 5F		ani	&H5F	; Это ПОДЧЕРКИВАНИЕ или ЗАБОЙ ?
0152	FE 5F		cmpi	&H5F
0154	CA 012F		jz	L_012F	; Да
0157	3A 20B4		lda	&H20B4
015A	E6 07		ani	&H07	; Режим ВР или РУС ?
015C	E2 012F		jpo	L_012F	; Режим РУС+ВР или ЛАТ без ВР
015F	3A 20B6		lda	&H20B6
0162	EE 20		xri	&H20	; Изменить 5-й бит (нижн.рег.)
0164	C3 0218		jmp	L_0218	; Передать в ЭВМ(ЛИН) или обраб.(АВТ)
0167	E6 40	L_0167	ani	&H40	; Код в диапазоне C0H-FFH ?
0169	C2 0193		jnz	L_0193	; Да
016C	3A F8DC		lda	&HF8DC	; Включен режим "ДКЛ" ?
016F	0F 		rrc
0170	DA 017E		jc	L_017E	; Да
0173	3A 20B5		lda	&H20B5	; Прочесть преобр.код из памяти
0176	32 20B6		sta	&H20B6	; Сохранить для автоповтора
0179	E6 3F		ani	&H3F	; Выделить младшие 6 разрядов
017B	C3 0218		jmp	L_0218	; Передать в ЭВМ
017E	3E 1B	L_017E	mvi	a,&H1B	; Передать код Esc в ЭВМ
0180	CD 0279		call	L_0279
0183	3E 3F		mvi	a,&H3F	; Передать '?' в ЭВМ
0185	CD 0279		call	L_0279
0188	3A 20B5		lda	&H20B5	; Прочесть преобразованный код
018B	32 20B6		sta	&H20B6	; Сохранить для автоповтора
018E	EE C0		xri	&HC0	; Очистить 8-й и установить 7-й разр.
0190	C3 0218		jmp	L_0218	; Передать в ЭВМ
0193	3A 20B5	L_0193	lda	&H20B5	; Прочесть преобр.код из памяти
0196	E6 30		ani	&H30	; Код в диапазоне F0H-FFH ?
0198	FE 30		cmpi	&H30
019A	CA 01C5		jz	L_01C5	; Да
019D	3E 1B		mvi	a,&H1B	; Передать код Esc в ЭВМ
019F	CD 0279		call	L_0279
01A2	3A 20B5		lda	&H20B5	; Прочесть преобразованный код
01A5	32 20B6		sta	&H20B6  ; Сохранить для автоповтора
01A8	E6 20		ani	&H20	; Код в диапазоне C0H-DFH ?
01AA	CA 01BD		jz	L_01BD	; Да
01AD	3A 20B4		lda	&H20B4	; Нажата клавиша ВР ?
01B0	E6 01		ani	&H01
01B2	CA 01BD		jz	L_01BD	; Нет
01B5	3A 20B6		lda	&H20B6	; Прочесть код
01B8	EE 88		xri	&H88	; Очистить 7-й бит и измен. 3-й бит
01BA	C3 0218		jmp	L_0218	; Передать в ЭВМ
01BD	3A 20B6	L_01BD	lda	&H20B6	; Прочесть код
01C0	E6 7F		ani	&H7F	; Оставить только 7 бит
01C2	C3 0218		jmp	L_0218	; Передать в ЭВМ
01C5	3A 20B5	L_01C5	lda	&H20B5	; Прочесть преобр.код из памяти
01C8	FE FF		cmpi	&HFF	; Это автоповтор ?
01CA	CA 057A		jz	L_057A	; Да
01CD	AF 		xra	a	; Очистить код автоповтора
01CE	32 20B6		sta	&H20B6
01D1	3A 20B5		lda	&H20B5	; Прочесть преобр.код из памяти
01D4	FE FE		cmpi	&HFE	; Это отжатие СУ или ВР ?
01D6	CA 0587		jz	L_0587	; Да
01D9	FE FD		cmpi	&HFD	; Нажата РУС/ЛАТ ?
01DB	CA 05A0		jz	L_05A0	; Да
01DE	FE FC		cmpi	&HFC	; Нажата "пустая" клавиша ?
01E0	CA 05CA		jz	L_05CA	; Да
01E3	FE FB		cmpi	&HFB	; Нажата ФКС ?
01E5	CA 05CD		jz	L_05CD	; Да
01E8	FE FA		cmpi	&HFA	; Нажата СУ ?
01EA	CA 05DB		jz	L_05DB	; Да
01ED	FE F9		cmpi	&HF9	; Нажата ВР ?
01EF	CA 05E3		jz	L_05E3	; Да
01F2	FE F0		cmpi	&HF0	; Нажата Ф20 ?
01F4	CA 051B		jz	L_051B	; Да
01F7	FE F1		cmpi	&HF1	; Нажата ПАУЗА ?
01F9	CA 021F		jz	L_021F	; Да
01FC	FE F2		cmpi	&HF2	; Нажата УСТ РЕЖИМА ?
01FE	CA 0231		jz	L_0231	; Да
0201	FE F3		cmpi	&HF3	; Нажата Ф5 ?
0203	CA 0542		jz	L_0542	; Да
0206	FE F4		cmpi	&HF4	; Нажата СТОП КАДР ?
0208	CA 0556		jz	L_0556	; Да
020B	FE F5		cmpi	&HF5	; Нажата ОСНОВН КАДР ?
020D	CA 04F4		jz	L_04F4	; Да
0210	FE F6		cmpi	&HF6	; Нажата ДОП ВАРИАНТ ?
0212	CA 0568		jz	L_0568	; Да
0215	C3 021B		jmp	L_021B
0218	CD 0279	L_0218	call	L_0279	; Передать код в ЭВМ
021B	E1 	L_021B	pop	hl
021C	F1 		pop	psw
021D	FB 		ei		; Разрешить прерывания
021E	C9 		ret		; Возврат из прерывания
; Обработка нажатия ПАУЗА
021F	2E 00	L_021F	mvi	l,&H00
0221	3A 20B4		lda	&H20B4
0224	0F 		rrc
0225	7D 		mov	a,l
0226	D2 022B		jnc	L_022B
0229	C6 17		adi	&H17
022B	32 20B0	L_022B	sta	&H20B0
022E	C3 021B		jmp	L_021B
; Обработка нажатия УСТ РЕЖИМА
0231	DB 6F	L_0231	in	&H6F	; Нажата клавиша ?
0233	0F 		rrc
0234	0F 		rrc
0235	D2 0231		jnc	L_0231	; Нет
0238	DB 6E		in	&H6E	; Прочесть код клавиши
023A	2F 		cma		; Инверсия кода и настройка на таблицу
023B	C6 FD		adi	&HFD	; с адреса 0AFDH
023D	6F 		mov	l,a
023E	3E 00		mvi	a,&H00
0240	CE 0A		aci	&H0A
0242	67 		mov	h,a
0243	7E 		mov	a,m	; A - преобразованный код
0244	FE B0		cmpi	&HB0	; Нажата 0 (доп.) ?
0246	CA 0342		jz	L_0342	; Да
0249	FE B1		cmpi	&HB1	; Нажата 1 (доп.) ?
024B	CA 09D9		jz	L_09D9	; Да
024E	FE B2		cmpi	&HB2	; Нажата 2 (доп.) ?
0250	CA 02CC		jz	L_02CC	; Да
0253	FE B3		cmpi	&HB3	; Нажата 3 (доп.) ?
0255	CA 09E4		jz	L_09E4	; Да
0258	FE B4		cmpi	&HB4	; Нажата 4 (доп.) ?
025A	CA 02D9		jz	L_02D9	; Да
025D	FE B5		cmpi	&HB5	; Нажата 5 (доп.) ?
025F	CA 09CE		jz	L_09CE	; Да
0262	FE B6		cmpi	&HB6	; Нажата 6 (доп.) ?
0264	CA 02E6		jz	L_02E6	; Да
0267	FE B7		cmpi	&HB7	; Нажата 7 (доп.) ?
0269	CA 04C4		jz	L_04C4	; Да
026C	FE B8		cmpi	&HB8	; Нажата 8 (доп.) ?
026E	CA 0494		jz	L_0494	; Да
0271	FE B9		cmpi	&HB9	; Нажата 9 (доп.) ?
0273	CA 0459		jz	L_0459	; Да
0276	C3 021B		jmp	L_021B	; Возврат
; Подпрограмма передачи кода в ЭВМ
0279	F5 	L_0279	push	psw	; Сохранить регистры
027A	C5 		push	bc
027B	47 		mov	b,a	; Сохранить код в B
027C	3A F8CD		lda	&HF8CD	; Установлен режим ЛИН/АВТ ?
027F	0F 		rrc
0280	DA 029B		jc	L_029B	; Режим АВТ
0283	3A F8F0		lda	&HF8F0	; Режим Авто ВК, ПС ?
0286	0F 		rrc
0287	D2 0295		jnc	L_0295	; Нет
028A	78 		mov	a,b
028B	FE 0A		cmpi	&H0A	; Передается символ ПС ?
028D	CA 02B3		jz	L_02B3	; Да
0290	FE 0D		cmpi	&H0D	; Передается символ ВК ?
0292	CA 02B3		jz	L_02B3	; Да
0295	CD 02C0	L_0295	call	L_02C0	; Передать код в ЭВМ
0298	C1 		pop	bc	; Восстановить регистры
0299	F1 		pop	psw
029A	C9 		ret
029B	D5 	L_029B	push	de	; Сохранить регистры
029C	E5 		push	hl
029D	2A 20AE		lhld	&H20AE	; Прочесть значения указателей на буф.
02A0	5C 		mov	e,h	; DE = указатель для записи в буфер
02A1	16 20		mvi	d,&H20
02A3	7B 		mov	a,e	; Передвинуть на след. позицию
02A4	3C 		inr	a
02A5	F6 C0		ori	&HC0
02A7	5F 		mov	e,a
02A8	63 		mov	h,e	; Сохранить указатели
02A9	22 20AE		shld	&H20AE
02AC	78 		mov	a,b	; Записать в буфер код выводимого симв.
02AD	12 		stax	de
02AE	E1 		pop	hl	; Восстановить регистры
02AF	D1 		pop	de
02B0	C1 		pop	bc
02B1	F1 		pop	psw
02B2	C9 		ret
02B3	06 0D	L_02B3	mvi	b,&H0D	; Передать в ЭВМ код ВК
02B5	CD 02C0		call	L_02C0
02B8	06 0A		mvi	b,&H0A	; Передать в ЭВМ код ПС
02BA	CD 02C0		call	L_02C0
02BD	C1 		pop	bc	; Восстановить регистры
02BE	F1 		pop	psw
02BF	C9 		ret
; Подпрограмма передачи кода в ЭВМ по линии
02C0	DB 77	L_02C0	in	&H77	; ЭВМ готова принять данные ?
02C2	0F 		rrc
02C3	D2 02C0		jnc	L_02C0	; Нет
02C6	78 		mov	a,b	; Очистить старший бит и передать
02C7	E6 7F		ani	&H7F
02C9	D3 76		out	&H76
02CB	C9 		ret
; Обработка нажатия УСТ РЕЖИМА, 2 или установленного бита 7 в порту B
; (выбор КОИ Н0 и Н1 (0) или КОИ Н2 (1))
02CC	3A F8EE	L_02CC	lda	&HF8EE	; Прочесть значение признака
02CF	F6 30		ori	&H30
02D1	EE 01		xri	&H01    ; Изменить признак
02D3	32 F8EE		sta	&HF8EE  ; Сохранить признак
02D6	C3 021B		jmp	L_021B  ; Возврат
; Обработка нажатия УСТ РЕЖИМА, 4 или установленного бита 5 в порту B
; (запрет автоповтора)
02D9	3A F8F3	L_02D9	lda	&HF8F3	; Прочесть значение признака
02DC	F6 30		ori	&H30
02DE	EE 01		xri	&H01	; Изменить признак
02E0	32 F8F3		sta	&HF8F3	; Сохранить признак
02E3	C3 021B		jmp	L_021B	; Возврат
; Обработка нажатия УСТ РЕЖИМА, 6 или установленного бита 3 в порту B
; (разрешение отображения управляющих символов)
02E6	3A F8F7	L_02E6	lda	&HF8F7	; Прочесть признак режима мигания
02E9	F6 30		ori	&H30
02EB	EE 01		xri	&H01	; Изменить признак
02ED	32 F8F7		sta	&HF8F7	; Записать признак
02F0	0F 		rrc		; Признак установлен ?
02F1	DA 02FB		jc	L_02FB	; Да
02F4	3E 0E		mvi	a,&H0E	; Сбросить бит C7 в паралл.порту
02F6	D3 7B		out	&H7B
02F8	C3 021B		jmp	L_021B	; Возврат
02FB	3E 0F	L_02FB	mvi	a,&H0F	; Установить бит C7 в паралл.порту
02FD	D3 7B		out	&H7B
02FF	C3 021B		jmp	L_021B	; Возврат
; Вывод в статусной строке НР/ВР в зависимости от установленного регистра
; (бит 2 в ячейке 20B4H, 1 - ВР, 0 - НР)
0302	F5 	L_0302	push	psw
0303	3A 20B4		lda	&H20B4	; Какой регистр установлен ?
0306	E6 04		ani	&H04
0308	CA 0313		jz	L_0313	; НР
030B	3E EE		mvi	a,&HEE	; Вывод надписи ВР
030D	32 F8D7		sta	&HF8D7
0310	C3 0318		jmp	L_0318
0313	3E F7	L_0313	mvi	a,&HF7	; Вывод надписи НР
0315	32 F8D7		sta	&HF8D7
0318	3E F2	L_0318	mvi	a,&HF2
031A	32 F8D8		sta	&HF8D8
031D	F1 		pop	psw
031E	C9 		ret
; Вывод в статусной строке ЛАТ или РУС в зависимости от установленного режима
; (бит 1 в ячейке 20B4H, 1 - ЛАТ, 0 - РУС)
031F	F5 	L_031F	push	psw	; Сохранить регистры
0320	E5 		push	hl
0321	21 F8D2		lxi	hl,&HF8D2 ; Адрес надписи РУС/ЛАТ в видеопамяти
0324	3A 20B4		lda	&H20B4	; Какой режим ?
0327	E6 02		ani	&H02
0329	CA 0337		jz	L_0337	; Режим РУС
032C	36 EC		mvi	m,&HEC	; Вывод надписи ЛАТ
032E	23 		inx	hl
032F	36 E1		mvi	m,&HE1
0331	23 		inx	hl
0332	36 F4		mvi	m,&HF4
0334	E1 		pop	hl	; Восстановить регистры
0335	F1 		pop	psw
0336	C9 		ret
0337	36 F2	L_0337	mvi	m,&HF2	; Вывод надписи РУС
0339	23 		inx	hl
033A	36 F5		mvi	m,&HF5
033C	23 		inx	hl
033D	36 F3		mvi	m,&HF3
033F	E1 		pop	hl	; Восстановить регистры
0340	F1 		pop	psw
0341	C9 		ret
; Обработка нажатия УСТ РЕЖИМА, 0 (выбор скорости интерфейса)
0342	3A 20B2	L_0342	lda	&H20B2	; Выбрать следующую скорость
0345	3C 		inr	a	; 0 - 9600, 1 - 4800, 2 - 2400
0346	E6 07		ani	&H07	; 3 - 1200, 4 - 600, 5 - 300
0348	32 20B2		sta	&H20B2	; 6 - 150, 7 - 75
034B	3E 40		mvi	a,&H40	; Программный сброс последов.
034D	D3 77		out	&H77	; интерфейса (линия)
034F	CD 0355		call	L_0355	; Вывод в служ.стр. и прогр.скорости
0352	C3 021B		jmp	L_021B	; Возврат
; Вывод в служебную строку значения скорости и программирование последова-
; тельного интерфейса (линия) на заданную скорость
0355	F5 	L_0355	push	psw	; Сохранить регистры
0356	D5 		push	de
0357	E5 		push	hl
0358	3A 20B2		lda	&H20B2	; Прочесть значение скорости
035B	21 03A9		lxi	hl,&H03A9 ; Получить адрес блока параметров
035E	07 		rlc		; равный 03A9H + скорость * 8
035F	07 		rlc
0360	07 		rlc
0361	85 		add	l
0362	6F 		mov	l,a
0363	7C 		mov	a,h
0364	CE 00		aci	&H00
0366	67 		mov	h,a
0367	11 F8E6		lxi	de,&HF8E6 ; Адрес надписи в служебной строке
036A	7E 		mov	a,m	; Вывести значение скорости в служебную
036B	23 		inx	hl	; строку
036C	12 		stax	de
036D	13 		inx	de
036E	7E 		mov	a,m
036F	23 		inx	hl
0370	12 		stax	de
0371	13 		inx	de
0372	7E 		mov	a,m
0373	23 		inx	hl
0374	12 		stax	de
0375	13 		inx	de
0376	7E 		mov	a,m
0377	23 		inx	hl
0378	12 		stax	de
0379	13 		inx	de
037A	5E 		mov	e,m	; Прочесть байт сброса
037B	23 		inx	hl
037C	3A 20B1		lda	&H20B1	; Прочесть управляющее слово
037F	A3 		ana	e	; Сбросить биты в упр.слове
0380	5E 		mov	e,m	; Прочесть байт установки
0381	23 		inx	hl
0382	B3 		ora	e	; Установить биты в упр.слове
0383	32 20B1		sta	&H20B1	; Сохранить управляющее слово
0386	D3 77		out	&H77	; Передать упр.слово в посл.интерфейс
0388	DB 7A		in	&H7A	; Прочесть порт C паралл.интерфейса
038A	E6 9F		ani	&H9F	; Сбросить биты 6 и 5
038C	B6 		ora	m	; Установить биты из бл.параметров
038D	D3 7A		out	&H7A	; Записать порт C
038F	23 		inx	hl
0390	7E 		mov	a,m	; Прочесть байт уст./сбр. RTS/DTR
0391	D3 6F		out	&H6F	; Установить/сбросить RTS/DTR
0393	3A F8CD		lda	&HF8CD	; Режим ЛИН/АВТ ?
0396	0F 		rrc
0397	D2 03A1		jnc	L_03A1	; Режим ЛИН
039A	3E 00		mvi	a,&H00	; Запретить прием/передачу с линии
039C	D3 77		out	&H77
039E	C3 03A5		jmp	L_03A5
03A1	3E 15	L_03A1	mvi	a,&H15	; Разрешить прием/передачу с линии
03A3	D3 77		out	&H77
03A5	E1 	L_03A5	pop	hl	; Восстановить регистры
03A6	D1 		pop	de
03A7	F1 		pop	psw
03A8	C9 		ret
; Блоки параметров для установки значения скорости
; Блок для скорости 9600
03A9	39 36 30 30	db	'9600'
03AD	FE 02 40 06	db	&HFE,&H02,&H40,&H06
; Блок для скорости 4800
03B1	34 38 30 30	db	'4800'
03B5	FE 02 00 06	db	&HFE,&H02,&H00,&H06
; Блок для скорости 2400
03B9	32 34 30 30	db	'2400'
03BD	FE 02 00 06	db	&HFE,&H02,&H00,&H06
; Блок для скорости 1200
03C1	31 32 30 30	db	'1200'
03C5	FE 02 20 24	db	&HFE,&H02,&H20,&H24
; Блок для скорости 600
03C9	20 36 30 30	db	' 600'
03CD	FE 02 40 24	db	&HFE,&H02,&H40,&H24
; Блок для скорости 300
03D1	20 33 30 30	db	' 300'
03D5	FE 02 60 24	db	&HFE,&H02,&H60,&H24
; Блок для скорости 150
03D9	20 31 35 30	db	' 150'
03DD	FF 03 40 24	db	&HFF,&H03,&H40,&H24
; Блок для скорости 75
03E1	20 20 37 35	db	'  75'
03E5	FF 03 60 24	db	&HFF,&H03,&H60,&H24
; Обработка Esc R (сдвиг изображения вверх)
03E9	3A F8E1		lda	&HF8E1	; Устан. режим задержанного вывода ?
03EC	0F 		rrc
03ED	DA 008E	L_03ED	jc	L_008E	; Да - возврат
03F0	CD 0939		call	L_0939	; Получить адрес курсора
03F3	36 20		mvi	m,&H20	; Погасить курсор
03F5	CD 09C1		call	L_09C1	; Сдвинуть изображение вверх
03F8	CD 0939		call	L_0939	; Получить адрес курсора
03FB	36 7F		mvi	m,&H7F	; Высветить курсор
03FD	C3 008E	L_03FD	jmp	L_008E
; Обработка Esc S (сдвиг изображения вниз)
0400	3A F8E1		lda	&HF8E1	; Устан. режим задержанного вывода ?
0403	0F 	L_0403	rrc
0404	DA 008E		jc	L_008E	; Да - возврат
0407	CD 0939		call	L_0939	; Получить адрес курсора
040A	36 20		mvi	m,&H20	; Погасить курсор
040C	CD 095B	L_040C	call	L_095B	; Сдвинуть изображение вниз
040F	CD 0939		call	L_0939	; Получить адрес курсора
0412	36 7F		mvi	m,&H7F	; Высветить курсор
0414	C3 008E		jmp	L_008E
; Обработка Esc Q (раздвижка вправо)
0417	3A F8E1		lda	&HF8E1	; Устан. режим задержанного вывода ?
041A	0F 		rrc
041B	DA 008E		jc	L_008E	; Да - возврат
041E	CD 0939		call	L_0939	; Получить адрес текущего символа
0421	62 		mov	h,d	; HL = адрес текущего символа
0422	7E 		mov	a,m	; Прочесть текущий символ
0423	E6 A0		ani	&HA0	; Оставить старший бит и устан. 5-й
0425	F6 20		ori	&H20	; бит (привести к пробелу)
0427	5F 		mov	e,a	; Сохранить в E
0428	3E 4F		mvi	a,&H4F	; A = 79 - X (длина остатка строки)
042A	91 		sub	c
042B	56 	L_042B	mov	d,m	; Прочесть символ
042C	73 		mov	m,e	; Сохранить предыдущий (справа)
042D	5A 		mov	e,d	; Сохранить в Е (предыдущий)
042E	2C 		inr	l	; Перейти к след. адресу
042F	3D 		dcr	a	; Уменьшить счетчик оставш.символов
0430	F2 042B		jp	L_042B
0433	C3 008E		jmp	L_008E
; Обработка Esc P (раздвижка влево)
0436	3A F8E1		lda	&HF8E1	; Устан. режим задержанного вывода ?
0439	0F 		rrc
043A	DA 008E		jc	L_008E	; Да  - возврат
043D	CD 0939		call	L_0939	; Получить адрес текущего символа
0440	62 		mov	h,d	; HL = адрес послед.символа в строке
0441	7B 		mov	a,e
0442	F6 7F		ori	&H7F
0444	6F 		mov	l,a
0445	7E 		mov	a,m	; Прочесть последний символ
0446	E6 A0		ani	&HA0	; Оставить старший бит и устан. 5-й
0448	F6 20		ori	&H20	; бит (привести к пробелу)
044A	5F 		mov	e,a	; Сохранить в E
044B	3E 4F		mvi	a,&H4F	; A = 79 - X (длина остатка строки)
044D	91 		sub	c
044E	56 	L_044E	mov	d,m	; Прочесть символ
044F	73 		mov	m,e	; Сохранить предыдущий (справа)
0450	5A 		mov	e,d	; Сохранить в Е (предыдущий)
0451	2D 		dcr	l	; Перейти к пред. адресу
0452	3D 		dcr	a	; Уменьшить счетчик оставш.символов
0453	F2 044E		jp	L_044E
0456	C3 008E		jmp	L_008E
; Обработка нажатия УСТ РЕЖИМА, 9  или установленного бита 0 в порту B
; (выбор количества стоп-битов - 1 или 2)
0459	3A F8FE	L_0459	lda	&HF8FE	; Прочесть значение признака
045C	0F 		rrc
045D	DA 0483		jc	L_0483	; Установлен 1 стоп-бит
0460	3E 31		mvi	a,&H31	; Признак - 1 стоп-бит
0462	32 F8FE		sta	&HF8FE	; Вывод на экран
0465	3E 40		mvi	a,&H40	; Прогр.сброс послед.порта(линия)
0467	D3 77		out	&H77
0469	3A 20B1		lda	&H20B1	; Поставить в управл.слове 1 стоп-бит
046C	E6 7F		ani	&H7F
046E	F6 40		ori	&H40
0470	32 20B1	L_0470	sta	&H20B1
0473	D3 77		out	&H77	; Запрограммировать послед.порт
0475	3A F8CD		lda	&HF8CD	; Режим ЛИН/АВТ ?
0478	0F 		rrc
0479	DA 021B		jc	L_021B	; Режим АВТ
047C	3E 15		mvi	a,&H15	; Разрешение приема/передачи с линии
047E	D3 77		out	&H77
0480	C3 021B		jmp	L_021B	; Возврат
0483	3E 32	L_0483	mvi	a,&H32	; Признак - два стоп-бита
0485	32 F8FE		sta	&HF8FE	; Вывод на экран
0488	3E 40		mvi	a,&H40	; Прогр.сброс послед.порта(линия)
048A	D3 77		out	&H77
048C	3A 20B1		lda	&H20B1	; Поставить в управл.слове 2 стоп-бита
048F	F6 C0		ori	&HC0
0491	C3 0470		jmp	L_0470	; Запрограммировать
; Обработка нажатия УСТ РЕЖИМА, 8  или установленного бита 1 в порту B
; (установка контроля по четности или нечетности)
0494	3E 40	L_0494	mvi	a,&H40	; Прогр.сброс послед.порта(линия)
0496	D3 77		out	&H77
0498	3A F8FC		lda	&HF8FC	; Прочесть значение признака
049B	EE 01		xri	&H01	; Переключить значения признака
049D	32 F8FC		sta	&HF8FC	; Сохранить значение признака
04A0	0F 		rrc		; Признак установлен ?
04A1	DA 04BC		jc	L_04BC	; Да
04A4	3A 20B1		lda	&H20B1	; Поставить в упр.слове 5 бит(четность)
04A7	F6 20		ori	&H20
04A9	32 20B1	L_04A9	sta	&H20B1
04AC	D3 77		out	&H77	; Запрограммировать послед.порт
04AE	3A F8CD		lda	&HF8CD	; Режим ЛИН/АВТ ?
04B1	0F 		rrc
04B2	DA 021B		jc	L_021B	; Режим АВТ
04B5	3E 15		mvi	a,&H15	; Разрешение приема/передачи с линии
04B7	D3 77		out	&H77
04B9	C3 021B		jmp	L_021B	; Возврат
04BC	3A 20B1	L_04BC	lda	&H20B1	; Сбросить в упр.слове 5 бит(нечетность)
04BF	E6 DF		ani	&HDF
04C1	C3 04A9		jmp	L_04A9	; Запрограммировать
; Обработка нажатия УСТ РЕЖИМА, 7  или установленного бита 2 в порту B
; (разрешение или запрет контроля по четности/нечетности)
04C4	3E 40	L_04C4	mvi	a,&H40	; Прогр.сброс послед.порта(линия)
04C6	D3 77		out	&H77
04C8	3A F8FA		lda	&HF8FA  ; Прочесть значение признака
04CB	EE 01		xri	&H01    ; Переключить значения признака
04CD	32 F8FA		sta	&HF8FA  ; Сохранить значение признака
04D0	0F 		rrc             ; Признак установлен ?
04D1	DA 04EC		jc	L_04EC  ; Да
04D4	3A 20B1		lda	&H20B1  ; Сбросить в упр.слове 4 бит(контроль)
04D7	E6 EF		ani	&HEF
04D9	32 20B1	L_04D9	sta	&H20B1
04DC	D3 77		out	&H77	; Запрограммировать послед.порт
04DE	3A F8CD		lda	&HF8CD  ; Режим ЛИН/АВТ ?
04E1	0F 		rrc
04E2	DA 021B		jc	L_021B  ; Режим АВТ
04E5	3E 15		mvi	a,&H15  ; Разрешение приема/передачи с линии
04E7	D3 77		out	&H77
04E9	C3 021B		jmp	L_021B  ; Возврат
04EC	3A 20B1	L_04EC	lda	&H20B1	; Устан. в упр.слове 4 бит(контроль)
04EF	F6 10		ori	&H10
04F1	C3 04D9		jmp	L_04D9	; Запрограммировать
; Обработка нажатия ОСНОВН КАДР
04F4	21 DF00	L_04F4	lxi	hl,&HDF00 ; Заполнение видеопамяти в диапазоне
04F7	3E F7		mvi	a,&HF7	; DF00H-F7FFH "пробелами"
04F9	36 20	L_04F9	mvi	m,&H20
04FB	23 		inx	hl
04FC	BC 		cmp	h
04FD	F2 04F9		jp	L_04F9
0500	D5 		push	de
0501	3E C0		mvi	a,&HC0	; Установка указателей буферов 
0503	32 20AF		sta	&H20AF	; на начало
0506	32 20AE		sta	&H20AE
0509	CD 0939		call	L_0939	; Получить адрес курсора
050C	36 20		mvi	m,&H20	; Погасить курсор в текущей позиции
050E	06 00		mvi	b,&H00	; Новая позиция курсора - 0, 0
0510	0E 00		mvi	c,&H00
0512	CD 0939		call	L_0939	; Получить адрес новой позиции курсора
0515	36 7F		mvi	m,&H7F	; Высветить курсор
0517	D1 		pop	de
0518	C3 021B		jmp	L_021B	; Возврат
; Изменение режимов ЛИН/АВТ по нажатию Ф20
051B	3A F8CD	L_051B	lda	&HF8CD	; Какой режим - ЛИН или АВТ ?
051E	0F 		rrc
051F	21 F8CD		lxi	hl,&HF8CD ; HL - адрес ЛИН/АВТ
0522	DA 0533		jc	L_0533	; Режим АВТ
0525	36 E1		mvi	m,&HE1	; Высветить в служ.строке "АВТ"
0527	23 		inx	hl
0528	36 F7		mvi	m,&HF7
052A	23 		inx	hl
052B	36 F4		mvi	m,&HF4
052D	AF 		xra	a	; Запрет передачи/приема с линии
052E	D3 77		out	&H77
0530	C3 021B		jmp	L_021B	; Возврат
0533	36 EC	L_0533	mvi	m,&HEC	; Высветить в служ.строке "ЛИН"
0535	23 		inx	hl
0536	36 E9		mvi	m,&HE9
0538	23 		inx	hl
0539	36 EE		mvi	m,&HEE
053B	3E 15		mvi	a,&H15	; Разрешить передачу/прием с линии
053D	D3 77		out	&H77
053F	C3 021B		jmp	L_021B	; Возврат
; Обработка нажатия Ф5
0542	3A F8CD	L_0542	lda	&HF8CD	; Режим ЛИН/АВТ ?
0545	0F 		rrc
0546	DA 021B		jc	L_021B	; Возврат (режим АВТ)
0549	3A 20B4		lda	&H20B4	; Нажата клавиша ВР ?
054C	0F 		rrc
054D	D4 0A3D		cnc	L_0A3D	; Нет - передать конец строки по линии
0550	DC 09EF		cc	L_09EF	; Да - передать конец страницы
0553	C3 021B		jmp	L_021B	; Возврат
; Обработка нажатия СТОП КАДР
0556	3E 1B	L_0556	mvi	a,&H1B	; Послать символ Esc в ЭВМ
0558	CD 0279		call	L_0279
055B	3A F8E1		lda	&HF8E1	; Режим задержанного вывода ?
055E	0F 		rrc
055F	3E 5B		mvi	a,&H5B	; Нет - послать "["
0561	D2 0218		jnc	L_0218
0564	3C 		inr	a	; Да - послать "\"
0565	C3 0218		jmp	L_0218
; Обработка нажатия ДОП ВАРИАНТ
0568	3E 1B	L_0568	mvi	a,&H1B	; Послать символ Esc в ЭВМ
056A	CD 0279		call	L_0279
056D	3A F8DC		lda	&HF8DC	; Установлен режим ДКЛ ?
0570	0F 		rrc
0571	3E 3D		mvi	a,&H3D	; Нет - послать "="
0573	D2 0218		jnc	L_0218
0576	3C 		inr	a	; Да - послать ">"
0577	C3 0218		jmp	L_0218
; Обработка кода автоповтора
057A	3A F8F3	L_057A	lda	&HF8F3	; Автоповтор запрещен ?
057D	0F 		rrc
057E	DA 021B		jc	L_021B	; Да
0581	3A 20B6		lda	&H20B6	; Прочитать код для автоповтора
0584	C3 0103		jmp	L_0103	; На обработку клавиши
; Обработка отжатия СУ или ВР
0587	3A 20B3	L_0587	lda	&H20B3	; Установлен признак нажатия СУ
058A	A7 		ana	a
058B	CA 0595		jz	L_0595	; Нет
058E	AF 		xra	a
058F	32 20B3		sta	&H20B3	; Очистить признак нажатия СУ
0592	C3 021B		jmp	L_021B	; Возврат
0595	3A 20B4	L_0595	lda	&H20B4	; Очистить признак нажатия ВР
0598	E6 FE		ani	&HFE
059A	32 20B4		sta	&H20B4
059D	C3 021B		jmp	L_021B	; Возврат
; Обработка нажатия РУС/ЛАТ
05A0	3A F8EE	L_05A0	lda	&HF8EE	; Стоит признак КОИ7 Н2 ?
05A3	0F 		rrc
05A4	DA 05BC		jc	L_05BC	; Да
05A7	3A 20B4		lda	&H20B4	; Какой режим алфавита ?
05AA	E6 02		ani	&H02
05AC	CA 05B4		jz	L_05B4	; Режим РУС
05AF	3E 0E		mvi	a,&H0E	; Передаем в ЭВМ код 0EH (РУС)
05B1	C3 05B6		jmp	L_05B6
05B4	3E 0F	L_05B4	mvi	a,&H0F	; Передаем в ЭВМ код 0FH (ЛАТ)
05B6	32 20B6	L_05B6	sta	&H20B6	; Сохранить для автоповтора
05B9	C3 0218		jmp	L_0218	; Передать в ЭВМ
05BC	3A 20B4	L_05BC	lda	&H20B4	; Изменить режим алфавита
05BF	EE 02		xri	&H02
05C1	32 20B4		sta	&H20B4
05C4	CD 031F		call	L_031F	; Вывести надпись РУС или ЛАТ
05C7	C3 021B		jmp	L_021B
; Обработка "пустой" клавиши
05CA	C3 021B	L_05CA	jmp	L_021B	; Возврат
; Обработка нажатия ФКС
05CD	3A 20B4	L_05CD	lda	&H20B4	; Изм. в 20B4 признак регистра (бит 2)
05D0	EE 04		xri	&H04
05D2	32 20B4		sta	&H20B4
05D5	CD 0302		call	L_0302	; Вывести надпись НР или ВР
05D8	C3 021B		jmp	L_021B
; Обработка нажатия СУ
05DB	3E FF	L_05DB	mvi	a,&HFF	; Установить в 20B3 признак нажатия СУ
05DD	32 20B3		sta	&H20B3
05E0	C3 021B		jmp	L_021B
; Обработка нажатия ВР
05E3	3A 20B4	L_05E3	lda	&H20B4	; Уст. в 20B4 признак нажатия ВР(бит 0)
05E6	F6 01		ori	&H01
05E8	32 20B4		sta	&H20B4
05EB	C3 021B		jmp	L_021B
; Обработка Esc \ (выход из режима задержанного вывода)
05EE	21 F8E0		lxi	hl,&HF8E0 ; Стереть в служебной строке ЗВЫВ
05F1	3E 20		mvi	a,&H20
05F3	77 		mov	m,a
05F4	23 		inx	hl
05F5	77 		mov	m,a
05F6	23 		inx	hl
05F7	77 		mov	m,a
05F8	23 		inx	hl
05F9	77 		mov	m,a
05FA	C3 008E		jmp	L_008E
; Обработка Esc = (включение режима ДКЛ)
05FD	21 F8DB	L_05FD	lxi	hl,&HF8DB ; Вывести в служебной строке ДКЛ
0600	36 E4		mvi	m,&HE4
0602	23 		inx	hl
0603	36 EB		mvi	m,&HEB
0605	23 		inx	hl
0606	36 EC		mvi	m,&HEC
0608	C3 008E		jmp	L_008E
; Обработка Esc > (выключение режима ДКЛ)
060B	21 F8DB	L_060B	lxi	hl,&HF8DB ; Стереть в служебной строке ДКЛ
060E	3E 20		mvi	a,&H20
0610	77 		mov	m,a
0611	23 		inx	hl
0612	77 		mov	m,a
0613	23 		inx	hl
0614	77 		mov	m,a
0615	C3 008E		jmp	L_008E
; Обработка Esc Z (запрос типа терминала)
0618	3E 1B		mvi	a,&H1B	; Передать по линии Esc /K (VT-52)
061A	CD 063F		call	L_063F
061D	3E 2F		mvi	a,&H2F
061F	CD 063F		call	L_063F
0622	3E 4B		mvi	a,&H4B
0624	CD 063F		call	L_063F
0627	C3 008E		jmp	L_008E
; Обработка Esc [ (установить режим задержанного вывода)
062A	21 F8E0		lxi	hl,&HF8E0 ; Вывод в служебной строке ЗВЫВ
062D	36 FA		mvi	m,&HFA
062F	23 		inx	hl
0630	36 F7		mvi	m,&HF7
0632	23 		inx	hl
0633	36 F9		mvi	m,&HF9
0635	23 		inx	hl
0636	36 F7		mvi	m,&HF7
0638	AF 		xra	a	; Счетчик оставшихся строк = 0
0639	32 20B0		sta	&H20B0
063C	C3 008E		jmp	L_008E
; Подпрограмма посылки данных в ЭВМ по линии
063F	F5 	L_063F	push	psw
0640	3A F8CD		lda	&HF8CD	; Режим ЛИН/АВТ ?
0643	0F 		rrc
0644	DA 0651		jc	L_0651	; Режим АВТ
0647	DB 77	L_0647	in	&H77	; ЭВМ готова принять данные ?
0649	0F 		rrc
064A	D2 0647		jnc	L_0647	; Нет
064D	F1 		pop	psw
064E	D3 76		out	&H76	; Передать данные
0650	C9 		ret
0651	F1 	L_0651	pop	psw
0652	C9 		ret
; Обработка Esc J (очистка конца страницы)
0653	CD 06E3		call	L_06E3	; Очистка конца текущей строки
0656	C5 		push	bc	; Сохранить текущие координаты
0657	0E 00		mvi	c,&H00	; X = 0
0659	78 	L_0659	mov	a,b	; Y = 23 ?
065A	FE 17		cmpi	&H17
065C	CA 0666		jz	L_0666	; Да - достигли конца страницы
065F	04 		inr	b	; Перейти к следующей строке
0660	CD 06E3		call	L_06E3	; Очистить строку
0663	C3 0659		jmp	L_0659
0666	C1 	L_0666	pop	bc	; Восстановить текущие координаты
0667	C3 008E		jmp	L_008E
; Обработка Esc Y (позиционирование курсора)
066A	CD 0920		call	L_0920	; Прочесть очередной символ
066D	CD 0939		call	L_0939	; Получить адрес курсора
0670	36 20		mvi	m,&H20	; Погасить курсор
0672	FE 20		cmpi	&H20	; Код символа < 32 ?
0674	FA 0682		jm	L_0682	; Да - не обрабатывать
0677	FE 38		cmpi	&H38	; Код символа >= 56 ?
0679	F2 0682		jp	L_0682	; Да - не обрабатывать
067C	D6 20		sui	&H20	; Вычесть 32
067E	47 		mov	b,a	; Новая координата Y
067F	CD 0939		call	L_0939	; Получить новый адрес курсора
0682	36 7F	L_0682	mvi	m,&H7F	; Высветить курсор
0684	CD 0920		call	L_0920	; Прочесть очередной символ
0687	CD 0939		call	L_0939	; Получить адрес курсора
068A	36 20		mvi	m,&H20	; Погасить курсор
068C	FE 20		cmpi	&H20	; Код символа < 32 ?
068E	FA 069C		jm	L_069C	; Да - не обрабатывать
0691	FE 70		cmpi	&H70	; Код символа >= 102 ?
0693	F2 069C		jp	L_069C	; Да - не обрабатывать
0696	D6 20		sui	&H20	; Вычесть 32
0698	4F 		mov	c,a	; Новая координата X
0699	CD 0939		call	L_0939	; Получить новый адрес курсора
069C	36 7F	L_069C	mvi	m,&H7F	; Высветить курсор
069E	C3 008E		jmp	L_008E
; Обработка Esc H (курсор в верхний левый угол)
06A1	CD 0939		call	L_0939	; Получить адрес курсора
06A4	36 20		mvi	m,&H20	; Погасить курсор
06A6	06 00		mvi	b,&H00	; Y = 0
06A8	0E 00		mvi	c,&H00	; X = 0
06AA	CD 0939		call	L_0939	; Получить новый адрес курсора
06AD	36 7F		mvi	m,&H7F	; Высветить курсор
06AF	C3 008E		jmp	L_008E
; Обработка Esc I (курсор вверх со сдвигом)
06B2	CD 0939		call	L_0939	; Получить адрес курсора
06B5	36 20		mvi	m,&H20	; Погасить курсор
06B7	78 		mov	a,b	; Y = 0 ?
06B8	A7 		ana	a
06B9	CA 06C5		jz	L_06C5	; Да
06BC	05 		dcr	b	; Y = Y - 1
06BD	CD 0939	L_06BD	call	L_0939	; Получить новый адрес курсора
06C0	36 7F		mvi	m,&H7F	; Высветить курсор
06C2	C3 008E		jmp	L_008E
06C5	CD 095B	L_06C5	call	L_095B	; Сдвиг изображения вниз на одну строку
06C8	C5 		push	bc
06C9	0E 00		mvi	c,&H00	; X = 0 (временно)
06CB	CD 0939		call	L_0939	; Получ.адрес перв.симв.освоб.строки
06CE	EB 		xchg
06CF	3E 4F		mvi	a,&H4F	; Длина строки
06D1	06 20		mvi	b,&H20	; Заполнение пробелами
06D3	70 	L_06D3	mov	m,b	; Цикл заполн.освоб.строки пробелами
06D4	23 		inx	hl
06D5	3D 		dcr	a
06D6	F2 06D3		jp	L_06D3
06D9	C1 		pop	bc
06DA	C3 06BD		jmp	L_06BD
; Обработка Esc K (очистка конца строки)
06DD	CD 06E3		call	L_06E3	; Очистить конец строки
06E0	C3 008E		jmp	L_008E
; Подпрограмма очистки конца строки
06E3	CD 0939	L_06E3	call	L_0939	; Получить адрес символа
06E6	EB 		xchg		; Передать адрес символа в HL
06E7	16 20		mvi	d,&H20	; D = пробел
06E9	7D 		mov	a,l	; A = мл.байт адреса OR 80H
06EA	F6 80		ori	&H80	; +1 до 0 равен числу оставш.символов
06EC	72 	L_06EC	mov	m,d	; Цикл заполнения конца строки
06ED	23 		inx	hl	; пробелами
06EE	3C 		inr	a
06EF	C2 06EC		jnz	L_06EC
06F2	C9 		ret
; Обработка Esc D (курсор влево)
06F3	79 		mov	a,c	; X = 0 ?
06F4	A7 		ana	a
06F5	CA 0704		jz	L_0704	; Да
06F8	CD 0939		call	L_0939	; Получить адрес курсора
06FB	36 20		mvi	m,&H20	; Погасить курсор
06FD	0D 		dcr	c	; X = X - 1
06FE	2D 		dcr	l	; Адрес курсора - 1
06FF	36 7F		mvi	m,&H7F	; Высветить курсор
0701	C3 008E		jmp	L_008E
0704	3A F8F5	L_0704	lda	&HF8F5	; Установлен режим фиксации маркера ?
0707	0F 		rrc
0708	DA 008E		jc	L_008E	; Да - возврат
070B	CD 0939		call	L_0939	; Получить адрес курсора
070E	36 20		mvi	m,&H20	; Погасить курсор
0710	0E 4F		mvi	c,&H4F	; X = 79
0712	78 		mov	a,b	; Y = 0 ?
0713	A7 		ana	a
0714	C2 0721		jnz	L_0721	; Нет
0717	06 17		mvi	b,&H17	; Y = 23
0719	CD 0939	L_0719	call	L_0939	; Получить новый адрес курсора
071C	36 7F		mvi	m,&H7F	; Высветить курсор
071E	C3 008E		jmp	L_008E
0721	05 	L_0721	dcr	b	; Y = Y - 1
0722	C3 0719		jmp	L_0719
; Обработка Esc C (курсор вправо)
0725	79 		mov	a,c	; X = 79 ?
0726	FE 4F		cmpi	&H4F
0728	CA 0737		jz	L_0737	; Да
072B	CD 0939		call	L_0939	; Получить адрес курсора
072E	36 20		mvi	m,&H20	; Погасить курсор
0730	0C 		inr	c	; X = X + 1
0731	2C 		inr	l	; Адрес курсора + 1
0732	36 7F		mvi	m,&H7F	; Высветить курсор
0734	C3 008E		jmp	L_008E
0737	3A F8F5	L_0737	lda	&HF8F5	; Установлен режим фиксации маркера ?
073A	0F 		rrc
073B	DA 008E		jc	L_008E	; Да - возврат
073E	CD 0939		call	L_0939	; Получить адрес курсора
0741	36 20		mvi	m,&H20	; Погасить курсор
0743	0E 00		mvi	c,&H00	; X = 0
0745	78 		mov	a,b	; Y = 23 ?
0746	FE 17		cmpi	&H17
0748	C2 0750		jnz	L_0750	; Нет
074B	06 00		mvi	b,&H00	; Y = 0
074D	C3 0751		jmp	L_0751
0750	04 	L_0750	inr	b	; Y = Y + 1
0751	CD 0939	L_0751	call	L_0939	; Получить новый адрес курсора
0754	36 7F		mvi	m,&H7F	; Высветить курсор
0756	C3 008E		jmp	L_008E
; Обработка Esc A (курсор вверх)
0759	78 		mov	a,b	; Y = 0 ?
075A	A7 		ana	a
075B	CA 008E		jz	L_008E	; Да - возврат
075E	CD 0939		call	L_0939	; Получить адрес курсора
0761	36 20		mvi	m,&H20	; Погасить курсор
0763	05 		dcr	b	; Y = Y - 1
0764	CD 0939		call	L_0939	; Получить новые координаты курсора
0767	36 7F		mvi	m,&H7F	; Высветить курсор
0769	C3 008E		jmp	L_008E
; Обработка Esc B (курсор вниз)
076C	78 		mov	a,b	; Y = 23 ?
076D	FE 17		cmpi	&H17
076F	CA 008E		jz	L_008E	; Да - возврат
0772	CD 0939		call	L_0939	; Получить адрес курсора
0775	36 20		mvi	m,&H20	; Погасить курсор
0777	04 		inr	b	; Y = Y + 1
0778	CD 0939		call	L_0939	; Получить новые координаты курсора
077B	36 7F		mvi	m,&H7F	; Высветить курсор
077D	C3 008E		jmp	L_008E
; Обработка Esc F (вход в псевдографику)
0780	3E FF		mvi	a,&HFF	; Установить режим псевдографики
0782	32 20AD		sta	&H20AD
0785	C3 008E		jmp	L_008E
; Обработка Esc G (выход из псевдографики)
0788	AF 		xra	a	; Сбросить режим псевдографики
0789	32 20AD		sta	&H20AD
078C	C3 008E		jmp	L_008E
; Обработка Ctrl+O (ЛАТ)
078F	5F 	L_078F	mov	e,a
0790	3A 20B4		lda	&H20B4	; Установить бит 1 в 20B4 (режим ЛАТ)
0793	F6 02		ori	&H02
0795	32 20B4		sta	&H20B4
0798	CD 031F		call	L_031F	; Вывод в статусной строке ЛАТ
079B	3A F8EE		lda	&HF8EE	; Выбран набор КОИ7 Н2 ?
079E	0F 		rrc
079F	DA 009E		jc	L_009E	; Да - вывод на экран
07A2	C3 008E		jmp	L_008E
; Обработка Ctrl+M (возврат каретки)
07A5	3A F8F0	L_07A5	lda	&HF8F0	; Установлен режим Авто ПС, ВК ?
07A8	0F 		rrc
07A9	DA 07D1		jc	L_07D1	; Да, на обработку ПС (Ctrl+J)
07AC	CD 0939		call	L_0939	; Получить адрес курсора
07AF	36 20		mvi	m,&H20	; Погасить курсор
07B1	0E 00		mvi	c,&H00	; X = 0
07B3	CD 0939		call	L_0939	; Получить новые координаты курсора
07B6	36 7F		mvi	m,&H7F	; Высветить на экране
07B8	C3 008E		jmp	L_008E
; Обработка Ctrl+N (РУС)
07BB	5F 	L_07BB	mov	e,a
07BC	3A 20B4		lda	&H20B4	; Сбросить бит 1 в 20B4 (режим РУС)
07BF	E6 FD		ani	&HFD
07C1	32 20B4		sta	&H20B4
07C4	CD 031F		call	L_031F	; Вывод в статусной строке РУС
07C7	3A F8EE		lda	&HF8EE	; Выбран набор КОИ7 Н2 ?
07CA	0F 		rrc
07CB	DA 009E		jc	L_009E	; Да - вывод на экран
07CE	C3 008E		jmp	L_008E
; Обработка Ctrl+J (перевод строки)
07D1	CD 0939	L_07D1	call	L_0939	; Получить адрес курсора
07D4	36 20		mvi	m,&H20	; Убрать курсор с экрана
07D6	3A F8F0		lda	&HF8F0	; Включен режим Авто ПС, ВК ?
07D9	0F 		rrc
07DA	D2 07DF		jnc	L_07DF	; Нет
07DD	0E 00		mvi	c,&H00	; X = 0
07DF	78 	L_07DF	mov	a,b	; Y = Y + 1
07E0	3C 		inr	a
07E1	47 		mov	b,a
07E2	FE 18		cmpi	&H18	; Y > 23 ?
07E4	F2 07EF		jp	L_07EF	; Да
07E7	CD 0939	L_07E7	call	L_0939	; Получить новый адрес курсора
07EA	36 7F		mvi	m,&H7F	; Высветить на экране
07EC	C3 008E		jmp	L_008E
07EF	C5 	L_07EF	push	bc
07F0	0E 00		mvi	c,&H00	; X = 0 (временно)
07F2	CD 0939		call	L_0939	; Получить адрес видеопамяти
07F5	EB 		xchg		; HL - адрес начала след. строки
07F6	3E 4F		mvi	a,&H4F	; A - длина строки
07F8	06 20		mvi	b,&H20	; B - код пробела
07FA	70 	L_07FA	mov	m,b	; Заполнение строки пробелами
07FB	23 		inx	hl
07FC	3D 		dcr	a
07FD	F2 07FA		jp	L_07FA
0800	C1 		pop	bc
0801	05 		dcr	b	; Y = Y - 1 (23)
0802	CD 099B		call	L_099B	; Прокрутка изображения вверх
0805	C3 07E7		jmp	L_07E7
; Обработка Ctrl+I (табуляция)
0808	CD 0939	L_0808	call	L_0939	; Получить адрес курсора
080B	36 20		mvi	m,&H20	; Убрать курсор с экрана
080D	79 		mov	a,c
080E	FE 4F		cmpi	&H4F	; Координата X равна 79 ?
0810	F2 0820		jp	L_0820	; Да
0813	FE 47		cmpi	&H47	; Координата X >= 71 ?
0815	F2 0825		jp	L_0825	; Да
0818	E6 F8		ani	&HF8	; Очистить мл.три бита X = X & F8H
081A	C6 08		adi	&H08	; X = X + 8
081C	4F 	L_081C	mov	c,a
081D	CD 0939		call	L_0939	; Получить новый адрес курсора
0820	36 7F	L_0820	mvi	m,&H7F	; Высветить на экране
0822	C3 008E		jmp	L_008E
0825	3C 	L_0825	inr	a	; X = X + 1
0826	C3 081C		jmp	L_081C
; Обработка Ctrl+H (шаг назад)
0829	CD 0939	L_0829	call	L_0939	; Получить адрес курсора
082C	36 20		mvi	m,&H20	; Убрать курсор с экрана
082E	79 		mov	a,c
082F	A7 		ana	a	; Координата X равна нулю ?
0830	CA 0838		jz	L_0838	; Да
0833	3D 		dcr	a	; Уменьшить координату X
0834	4F 		mov	c,a
0835	CD 0939		call	L_0939	; Получить новый адрес курсора
0838	36 7F	L_0838	mvi	m,&H7F	; Высветить на экране
083A	C3 008E		jmp	L_008E
; Обработка Ctrl+[ (Esc)
083D	CD 0920	L_083D	call	L_0920	; Прочесть очередной символ
0840	FE 3D		cmpi	&H3D	; Код символа меньше 61 ?
0842	FA 008E		jm	L_008E	; Да - возврат
0845	FE 5D		cmpi	&H5D	; Код символа больше 93 ?
0847	F2 008E		jp	L_008E	; Да - возврат
084A	D6 3D		sui	&H3D	; Вычесть 61
084C	07 		rlc		; Получить адрес обработки из
084D	5F 		mov	e,a	; таблицы по адресу 0859H
084E	16 00		mvi	d,&H00
0850	21 0859		lxi	hl,&H0859
0853	19 		dad	de
0854	5E 		mov	e,m
0855	23 		inx	hl
0856	56 		mov	d,m
0857	EB 		xchg
0858	E9 		pchl		; Перейти к обработке
; Таблица адресов обработки Esc-последовательностей
0859	FD 05 		dw	&H05FD	; Esc =
085B	0B 06 		dw	&H060B	; Esc >
085D	8E 00		dw	&H8E	; Esc ?
085F	8E 00 		dw	&H8E	; Esc @
0861	59 07 		dw	&H0759	; Esc A
0863	6C 07 		dw	&H076C	; Esc B
0865	25 07 		dw	&H0725	; Esc C
0867	F3 06 		dw	&H06F3	; Esc D
0869	8E 00		dw	&H8E	; Esc E
086B	80 07 		dw	&H0780	; Esc F
086D	88 07		dw	&H0788	; Esc G
086F	A1 06 		dw	&H06A1	; Esc H
0871	B2 06		dw	&H06B2	; Esc I
0873	53 06		dw	&H0653	; Esc J
0875	DD 06		dw	&H06DD	; Esc K
0877	8E 00		dw	&H8E	; Esc L
0879	8E 00 		dw	&H8E	; Esc M
087B	8E 00 		dw	&H8E	; Esc N
087D	8E 00 		dw	&H8E	; Esc O
087F	36 04		dw	&H0436	; Esc P
0881	17 04 		dw	&H0417	; Esc Q
0883	E9 03 		dw	&H03E9	; Esc R
0885	00 04 		dw	&H0400	; Esc S
0887	8E 00 		dw	&H8E	; Esc T
0889	8E 00 		dw	&H8E	; Esc U
088B	8E 00 		dw	&H8E	; Esc V
088D	8E 00 		dw	&H8E	; Esc W
088F	8E 00 		dw	&H8E	; Esc X
0891	6A 06 		dw	&H066A	; Esc Y
0893	18 06		dw	&H0618	; Esc Z
0895	2A 06		dw	&H062A	; Esc [
0897	EE 05		dw	&H05EE	; Esc \
; Подпрограмма обработки прерывания с линии
0899	F5 	L_0899	push	psw	; Сохранить регистры
089A	D5 		push	de
089B	E5 		push	hl
089C	3E 20		mvi	a,&H20	; Команда "конец прерывания" для
089E	D3 5E		out	&H5E    ; контроллера прер., фикс. приоритет
08A0	DB 76		in	&H76	; Прочесть символ с линии
08A2	E6 7F		ani	&H7F	; Оставить семь бит
08A4	FE 00		cmpi	&H00	; Получен ноль ?
08A6	CA 08DB		jz	L_08DB	; Да
08A9	2A 20AE		lhld	&H20AE	; Прочесть значения указателей буферов
08AC	5C 		mov	e,h	; Получить в DE указатель на запись
08AD	16 20		mvi	d,&H20
08AF	7B 		mov	a,e	; Увеличить значение указателя
08B0	3C 		inr	a
08B1	F6 C0		ori	&HC0
08B3	5F 		mov	e,a
08B4	63 		mov	h,e	; Сохранить новый указатель
08B5	22 20AE		shld	&H20AE
08B8	3A F8FA		lda	&HF8FA	; Разрешен контроль по чет./нечет.
08BB	0F 		rrc
08BC	D2 08D6		jnc	L_08D6	; Нет
08BF	DB 77		in	&H77	; Прочесть слово сост.контроллера
08C1	E6 08		ani	&H08	; Есть ошибка по четности ?
08C3	CA 08D6		jz	L_08D6	; Нет
08C6	3E 7F		mvi	a,&H7F	; Записать в буфер 7FH
08C8	12 		stax	de
08C9	DB 77	L_08C9	in	&H77	; Контроллер готов к передаче ?
08CB	0F 		rrc
08CC	D2 08C9		jnc	L_08C9	; Нет
08CF	3E 15		mvi	a,&H15	; Сброс ошибок контроллера
08D1	D3 77		out	&H77
08D3	C3 08DB		jmp	L_08DB
08D6	DB 76	L_08D6	in	&H76	; Прочесть символ с линии
08D8	E6 7F		ani	&H7F    ; Оставить семь бит
08DA	12 		stax	de	; Записать в буфер
08DB	DB 76	L_08DB	in	&H76	; Чтение символа с линии
08DD	3A F8EC		lda	&HF8EC	; Установлен режим XON/XOFF ?
08E0	0F 		rrc
08E1	D2 08FC		jnc	L_08FC	; Нет
08E4	7D 		mov	a,l	; Указатель на чтение из буфера
08E5	D6 0A		sui	&H0A	; Вычесть 10
08E7	F6 C0		ori	&HC0
08E9	BB 		cmp	e	; Сравнить с указателем на запись
08EA	C2 08FC		jnz	L_08FC	; Не равны
08ED	DB 77	L_08ED	in	&H77	; Контроллер готов к передаче ?
08EF	0F 		rrc
08F0	D2 08ED		jnc	L_08ED	; Нет
08F3	3E 13		mvi	a,&H13	; Послать в ЭВМ код 13H (Ctrl+S)
08F5	D3 76		out	&H76    ; (осталось 10 ячеек в буфере)
08F7	3E B1		mvi	a,&HB1	; Установить старший бит в признаке
08F9	32 F8EC		sta	&HF8EC	; режима XON/XOFF
08FC	E1 	L_08FC	pop	hl	; Восстановить регистры
08FD	D1 		pop	de
08FE	F1 		pop	psw
08FF	FB 		ei		; Разрешить прерывания
0900	C9 		ret		; Возврат из прерывания
; Подпрограмма ожидания прихода символа с линии
0901	3A F8EC	L_0901	lda	&HF8EC	; Прочесть признак XON/XOFF
0904	A7 		ana	a	; Признак окончания буфера
0905	F2 091E		jp	L_091E	; Нет
0908	E6 7F		ani	&H7F	; Сбросить признак окончания буфера
090A	32 F8EC		sta	&HF8EC	; Сохранить признак
090D	3A F8CD	L_090D	lda	&HF8CD	; Режим ЛИН/АВТ ?
0910	0F 		rrc
0911	DA 091E		jc	L_091E	; Режим АВТ
0914	DB 77		in	&H77	; Контроллер готов к передаче ?
0916	0F 		rrc
0917	D2 090D		jnc	L_090D	; Нет
091A	3E 11		mvi	a,&H11	; Послать в ЭВМ код 11H (Ctrl+Q)
091C	D3 76		out	&H76
091E	FB 	L_091E	ei		; Разрешить прерывания
091F	76 		hlt		; Останов (ожидание прерывания)
; Подпрограмма чтения полученного символа с линии
0920	F3 	L_0920	di		; Запретить прерывания
0921	2A 20AE		lhld	&H20AE	; Прочесть указатели буферов
0924	5C 		mov	e,h	; Указатель на запись (мл.байт)
0925	26 20		mvi	h,&H20	; HL - указатель на чтение
0927	7D 		mov	a,l	; Сравнить указатели
0928	BB 		cmp	e
0929	CA 0901		jz	L_0901	; Равны (буфер пуст, надо ждать)
092C	3C 		inr	a	; Увеличить значение указателя
092D	F6 C0		ori	&HC0
092F	6F 		mov	l,a
0930	7E 		mov	a,m	; Прочесть из буфера
0931	E6 7F		ani	&H7F	; Оставить семь бит
0933	63 		mov	h,e	; Сохранить указатели
0934	22 20AE		shld	&H20AE
0937	FB 		ei		; Разрешить прерывания
0938	C9 		ret
; Получение адресов курсора и символа
; На входе: B - координата Y, C - координата X
; На выходе: HL - адрес курсора, DE - адрес символа
0939	F5 	L_0939	push	psw
093A	79 		mov	a,c	; A = координата X
093B	C6 30		adi	&H30	; Добавить смещение 30H
093D	6F 		mov	l,a	; Поместить в L
093E	DB 78		in	&H78	; Прочесть значение верх.строки
0940	80 		add	b	; Добавить координату Y
0941	1F 		rar		; Сдвинуть вправо
0942	67 		mov	h,a	; Поместить в H
0943	D2 094A		jnc	L_094A	; Координата Y четная
0946	7D 		mov	a,l	; Установить в L старший бит
0947	F6 80		ori	&H80
0949	6F 		mov	l,a
094A	3E C0	L_094A	mvi	a,&HC0	; Получить в A ст.часть адреса
094C	84 		add	h
094D	FE D8		cmpi	&HD8	; Вышли за границы ?
094F	FA 0954		jm	L_0954	; Нет
0952	D6 18		sui	&H18	; Вычесть 18H
0954	67 	L_0954	mov	h,a     ; H = ст.часть адреса курсора
0955	C6 20		adi	&H20    ; Ст.часть адреса символа
0957	57 		mov	d,a     ; DE = адрес символа
0958	5D 		mov	e,l
0959	F1 		pop	psw
095A	C9 		ret
; Сдвиг изображения вниз на одну строку
095B	F5 	L_095B	push	psw
095C	DB 78		in	&H78	; Прочесть номер первой строки
095E	A7 		ana	a	; Он равен нулю ?
095F	CA 0967		jz	L_0967	; Да
0962	3D 		dcr	a	; Вычесть один
0963	D3 78	L_0963	out	&H78	; Записать номер первой строки
0965	F1 		pop	psw
0966	C9 		ret
0967	3E 2F	L_0967	mvi	a,&H2F	; Номер первой строки равен 47
0969	C3 0963		jmp	L_0963
; Обработка управляющих кодов (диапазон 1 - 31)
096C	5F 	L_096C	mov	e,a
096D	3A F8F7		lda	&HF8F7	; Включен режим отображения упр.симв. ?
0970	0F 		rrc
0971	7B 		mov	a,e
0972	DA 0096		jc	L_0096	; Да
0975	FE 08		cmpi	&H08	; Упр.символ 8 (шаг назад) ?
0977	CA 0829		jz	L_0829	; Да
097A	FE 09		cmpi	&H09	; Упр.символ 9 (табуляция) ?
097C	CA 0808		jz	L_0808	; Да
097F	FE 0A		cmpi	&H0A	; Упр.символ 10 (перевод строки) ?
0981	CA 07D1		jz	L_07D1	; Да
0984	FE 0D		cmpi	&H0D	; Упр.символ 13 (возврат каретки) ?
0986	CA 07A5		jz	L_07A5	; Да
0989	FE 0E		cmpi	&H0E	; Упр.символ 14 (РУС) ?
098B	CA 07BB		jz	L_07BB	; Да
098E	FE 0F		cmpi	&H0F	; Упр.символ 15 (ЛАТ) ?
0990	CA 078F		jz	L_078F	; Да
0993	FE 1B		cmpi	&H1B	; Упр.символ 27 (Escape) ?
0995	CA 083D		jz	L_083D	; Да
0998	C3 008E		jmp	L_008E	; Дальше на ожидание
; Прокрутка изображения вверх с учетом задержанного вывода
099B	3A F8E1	L_099B	lda	&HF8E1	; Включен режим задержанного вывода ?
099E	0F 		rrc
099F	D2 09C1		jnc	L_09C1	; Нет
09A2	3A 20B0		lda	&H20B0	; Уменьшить счетчик прокрученных строк
09A5	3D 		dcr	a
09A6	32 20B0		sta	&H20B0
09A9	F2 09C1		jp	L_09C1	; Счетчик >= 0
09AC	3E 13		mvi	a,&H13
09AE	CD 063F		call	L_063F	; Послать в ЭВМ код 13H (Ctrl+S)
09B1	76 	L_09B1	hlt		; Останов (обработка прерываний)
09B2	3A 20B0		lda	&H20B0	; Счетчик стал >= 0
09B5	A7 		ana	a
09B6	FA 09B1		jm	L_09B1	; Нет, ждем
09B9	3A F8EC		lda	&HF8EC	; Установить признак оконч.
09BC	F6 80		ori	&H80	; буфера режима XON/XOFF
09BE	32 F8EC		sta	&HF8EC
09C1	DB 78	L_09C1	in	&H78	; Прочесть номер перв.строки на экране
09C3	3C 		inr	a	; Увеличить на один
09C4	FE 30		cmpi	&H30	; Номер стал >= 48 ?
09C6	FA 09CB		jm	L_09CB	; Нет
09C9	D6 30		sui	&H30	; Вычесть 48 (закольцевать)
09CB	D3 78	L_09CB	out	&H78	; Записать номер первой строки
09CD	C9 		ret
; Обработка нажатия УСТ РЕЖИМА, 5  или установленного бита 4 в порту B
; (разрешение/запрет фиксации курсора в крайних положениях строки)
09CE	3A F8F5	L_09CE	lda	&HF8F5	; Прочесть значение признака
09D1	EE 01		xri	&H01	; Изменить значение признака
09D3	32 F8F5		sta	&HF8F5	; Сохранить признак
09D6	C3 021B		jmp	L_021B	; Возврат
; Обработка нажатия УСТ РЕЖИМА, 1 или установленного бита 0 в порту С
; (режим XON/XOFF)
09D9	3A F8EC	L_09D9	lda	&HF8EC	; Прочесть значение признака
09DC	EE 01		xri	&H01    ; Изменить значение признака
09DE	32 F8EC		sta	&HF8EC  ; Сохранить признак
09E1	C3 021B		jmp	L_021B  ; Возврат
; Обработка нажатия УСТ РЕЖИМА, 3 или установленного бита 6 в порту B
; (авто ПС, ВК)
09E4	3A F8F0	L_09E4	lda	&HF8F0	; Прочесть значение признака
09E7	EE 01		xri	&H01	; Изменить признак
09E9	32 F8F0		sta	&HF8F0	; Сохранить
09EC	C3 021B		jmp	L_021B	; Возврат
; Передача конца страницы по линии
09EF	F5 	L_09EF	push	psw	; Сохранить регистры
09F0	C5 		push	bc
09F1	CD 0A3D	L_09F1	call	L_0A3D	; Передать конец текущей строки
09F4	78 		mov	a,b
09F5	FE 17		cmpi	&H17	; Достигли последней строки
09F7	F2 0A00		jp	L_0A00	; Да
09FA	04 		inr	b	; Перейти к следующей строки
09FB	0E 00		mvi	c,&H00	; Начать передачу с начала
09FD	C3 09F1		jmp	L_09F1
0A00	C1 	L_0A00	pop	bc	; Восстановить регистры
0A01	F1 		pop	psw
0A02	C9 		ret
; Передача символа в ЭВМ при исполнении п/п передачи строки
0A03	E5 	L_0A03	push	hl
0A04	6F 		mov	l,a	; Сохранить символ в L
0A05	3A F8EC		lda	&HF8EC	; Установлен режим XON/XOFF ?
0A08	0F 		rrc
0A09	DC 0A19		cc	L_0A19	; Да
0A0C	DB 77	L_0A0C	in	&H77	; ЭВМ готова принять данные ?
0A0E	0F 		rrc
0A0F	D2 0A0C		jnc	L_0A0C	; Нет - ждем
0A12	7D 		mov	a,l
0A13	E6 7F		ani	&H7F
0A15	D3 76		out	&H76	; Передать символ в ЭВМ
0A17	E1 		pop	hl
0A18	C9 		ret
0A19	DB 77	L_0A19	in	&H77	; Данные переданы из ЭВМ ?
0A1B	0F 		rrc
0A1C	0F 		rrc
0A1D	D0 		rnc		; Нет - возврат
0A1E	DB 76		in	&H76	; Прочесть переданный символ
0A20	E6 7F		ani	&H7F	; Оставить только семь бит
0A22	FE 13		cmpi	&H13	; Передан символ Ctrl+S ?
0A24	C0 		rnz		; Нет - возврат
0A25	DB 6E	L_0A25	in	&H6E	; Прочесть код символа с клавиатуры
0A27	FE 83		cmpi	&H83	; Была нажата Ф20 ?
0A29	CA 0A3C		jz	L_0A3C	; Да - возврат
0A2C	DB 77		in	&H77	; Данные переданы из ЭВМ ?
0A2E	0F 		rrc
0A2F	0F 		rrc
0A30	D2 0A25		jnc	L_0A25	; Нет - ждем
0A33	DB 76		in	&H76	; Прочесть переданный символ
0A35	E6 7F		ani	&H7F	; Оставить только семь бит  
0A37	FE 11		cmpi	&H11	; Передан символ Ctrl+Q ?   
0A39	C2 0A25		jnz	L_0A25	; Нет - ждем
0A3C	C9 	L_0A3C	ret
; Передача строки по линии (от позиции курсора до конца)
0A3D	F5 	L_0A3D	push	psw	; Сохранить все регистры
0A3E	C5 		push	bc
0A3F	D5 		push	de
0A40	E5 		push	hl
0A41	CD 0939		call	L_0939	; Получить адреса курсора и символа
0A44	62 		mov	h,d	; DE - адрес конца строки
0A45	3E 7F		mvi	a,&H7F	; HL - адрес строки в позиции курсора
0A47	B3 		ora	e
0A48	5F 		mov	e,a
0A49	1A 	L_0A49	ldax	de	; Получить символ (с конца строки)
0A4A	E6 7F		ani	&H7F	; Сбросить старший бит
0A4C	FE 20		cmpi	&H20	; Это пробел ?
0A4E	C2 0A5A		jnz	L_0A5A	; Нет
0A51	7B 		mov	a,e
0A52	BD 		cmp	l	; Дошли до позиции курсора
0A53	CA 0A5A		jz	L_0A5A	; Да
0A56	1D 		dcr	e	; Перейти к предыдущему символу
0A57	C3 0A49		jmp	L_0A49
0A5A	3A F8EE	L_0A5A	lda	&HF8EE	; Используется набор КОИ7 Н2 ?
0A5D	0F 		rrc
0A5E	D4 0A84		cnc	L_0A84	; Нет (послать код РУС или ЛАТ)
0A61	3A F8EE	L_0A61	lda	&HF8EE	; Используется набор КОИ7 Н2 ?
0A64	0F 		rrc
0A65	D4 0A99		cnc	L_0A99	; Нет (сменить алфавит, если надо)
0A68	7E 		mov	a,m	; Прочесть символ с видеопамяти
0A69	CD 0A03		call	L_0A03	; Передать в ЭВМ
0A6C	7B 		mov	a,e	; Адрес конца строки
0A6D	BD 		cmp	l	; Дошли до конца
0A6E	CA 0A75		jz	L_0A75	; Да
0A71	2C 		inr	l	; Перейти к следующему символу
0A72	C3 0A61		jmp	L_0A61	; Продолжить
0A75	3E 0D	L_0A75	mvi	a,&H0D	; Передать код ВК в ЭВМ
0A77	CD 0A03		call	L_0A03
0A7A	3E 0A		mvi	a,&H0A	; Передать код ПС в ЭВМ
0A7C	CD 0A03		call	L_0A03
0A7F	E1 		pop	hl	; Восстановить регистры
0A80	D1 		pop	de
0A81	C1 		pop	bc
0A82	F1 		pop	psw
0A83	C9 		ret
; Посылка кода РУС или ЛАТ в зависимости от алфавита текущего символа
0A84	7E 	L_0A84	mov	a,m	; Прочесть символ с видеопамяти
0A85	E6 80		ani	&H80	; Оставить старший бит
0A87	C2 0A91		jnz	L_0A91	; Это русский алфавит
0A8A	3E 0F		mvi	a,&H0F	; Управляющий символ ЛАТ
0A8C	0E 00		mvi	c,&H00	; Признак латинского алфавита
0A8E	C3 0A95		jmp	L_0A95	; На передачу в ЭВМ
0A91	3E 0E	L_0A91	mvi	a,&H0E	; Управляющий символ РУС
0A93	0E 80		mvi	c,&H80	; Признак русского алфавита
0A95	CD 0A03	L_0A95	call	L_0A03	; Передача управляющего символа в ЭВМ
0A98	C9 		ret
; Посылка кода РУС или ЛАТ, если алфавит текущего символа не совпадает
0A99	7E 	L_0A99	mov	a,m	; Прочесть символ с видеопамяти
0A9A	A9 		xra	c	; Проверить старший бит
0A9B	FC 0A84		cm	L_0A84	; Не совпадает - сменить алфавит
0A9E	C9 		ret
; Подпрограмма чтения состояния переключателей и установки режимов работы
; по состоянию переключателей
0A9F	DB 7A	L_0A9F	in	&H7A	; Чтение порта C паралл.адаптера
0AA1	0F 		rrc
0AA2	DC 0AF8		cc	L_0AF8	; Установлен бит 0
0AA5	E6 07		ani	&H07	; Выделить скорость обмена
0AA7	32 20B2		sta	&H20B2	; Сохранить в 20B2
0AAA	CD 0355		call	L_0355	; Установка скорости
0AAD	DB 79		in	&H79	; Чтение порта B паралл.адаптера
0AAF	0F 		rrc
0AB0	DC 0AD0		cc	L_0AD0	; Установлен бит 0
0AB3	0F 		rrc
0AB4	DC 0AD5		cc	L_0AD5	; Установлен бит 1
0AB7	0F 		rrc
0AB8	DC 0ADA		cc	L_0ADA	; Установлен бит 2
0ABB	0F 		rrc
0ABC	DC 0ADF		cc	L_0ADF	; Установлен бит 3
0ABF	0F 		rrc
0AC0	DC 0AE4		cc	L_0AE4	; Установлен бит 4
0AC3	0F 		rrc
0AC4	DC 0AE9		cc	L_0AE9	; Установлен бит 5
0AC7	0F 		rrc
0AC8	DC 0AEE		cc	L_0AEE	; Установлен бит 6
0ACB	0F 		rrc
0ACC	DC 0AF3		cc	L_0AF3	; Установлен бит 7
0ACF	C9 		ret
; Обработка установленного бита 0 в порту B
0AD0	F5 	L_0AD0	push	psw	; Сохранить регистры
0AD1	E5 		push	hl
0AD2	C3 0459		jmp	L_0459	; Переход на обработку
; Обработка установленного бита 1 в порту B
0AD5	F5 	L_0AD5	push	psw	; Сохранить регистры
0AD6	E5 		push	hl
0AD7	C3 0494		jmp	L_0494	; Переход на обработку
; Обработка установленного бита 2 в порту B
0ADA	F5 	L_0ADA	push	psw	; Сохранить регистры
0ADB	E5 		push	hl
0ADC	C3 04C4		jmp	L_04C4	; Переход на обработку
; Обработка установленного бита 3 в порту B
0ADF	F5 	L_0ADF	push	psw	; Сохранить регистры
0AE0	E5 		push	hl
0AE1	C3 02E6		jmp	L_02E6	; Переход на обработку
; Обработка установленного бита 4 в порту B
0AE4	F5 	L_0AE4	push	psw	; Сохранить регистры
0AE5	E5 		push	hl
0AE6	C3 09CE		jmp	L_09CE	; Переход на обработку
; Обработка установленного бита 5 в порту B
0AE9	F5 	L_0AE9	push	psw	; Сохранить регистры
0AEA	E5 		push	hl
0AEB	C3 02D9		jmp	L_02D9	; Переход на обработку
; Обработка установленного бита 6 в порту B
0AEE	F5 	L_0AEE	push	psw	; Сохранить регистры
0AEF	E5 		push	hl
0AF0	C3 09E4		jmp	L_09E4	; Переход на обработку
; Обработка установленного бита 7 в порту B
0AF3	F5 	L_0AF3	push	psw	; Сохранить регистры
0AF4	E5 		push	hl
0AF5	C3 02CC		jmp	L_02CC	; Переход на обработку
; Обработка установленного бита 0 в порту C
0AF8	F5 	L_0AF8	push	psw	; Сохранить регистры
0AF9	E5 		push	hl
0AFA	C3 09D9		jmp	L_09D9	; Переход на обработку

0AFD	00 		db	0	; 377
0AFE	00 		db	0	; 376
0AFF	5F 		db	&H5F	; 375 ~
0B00	FC		db	&HFC	; 374 { |
0B01	5C		db	&H5C	; 373 Э \
0B02	3A		db	&H3A	; 372 : *
0B03	2D 		db	&H2D	; 371 - =
0B04	00 		db	0	; 370
0B05	2E		db	&H2E	; 367 . >
0B06	48		db	&H48	; 366 Х H
0B07	FC		db	&HFC	; 365 }
0B08	00		db	0	; 364
0B09	2C		db	&H2C	; 363 , <
0B0A	56 		db	&H56	; 362 Ж V
0B0B	5F 		db	&H5F	; 361 _
0B0C	5A 		db	&H5A	; 360 З Z
0B0D	30		db	&H30	; 357 0
0B0E	00		db	0	; 356
0B0F	40 		db	&H40	; 355 Ю @
0B10	44 		db	&H44	; 354 Д D
0B11	5D 		db	&H5D	; 353 Щ ]
0B12	39 		db	&H39	; 352 9 )
0B13	00 		db	0	; 351
0B14	42 		db	&H42	; 350 Б B
0B15	4C 		db	&H4C	; 347 Л L
0B16	5B 		db	&H5B	; 346 Ш [
0B17	38		db	&H38	; 345 8 (
0B18	00		db	0	; 344
0B19	58 		db	&H58	; 343 Ь X
0B1A	4F 		db	&H4F	; 342 О O
0B1B	47 		db	&H47	; 341 Г G
0B1C	37 		db	&H37	; 340 7 '
0B1D	00 		db	0	; 337
0B1E	54 		db	&H54	; 336 Т T
0B1F	52 		db	&H52	; 335 Р R
0B20	4E 		db	&H4E	; 334 Н N
0B21	36 		db	&H36	; 333 6 &
0B22	00		db	0	; 332
0B23	49 		db	&H49	; 331 И I
0B24	50 		db	&H50	; 330 П P
0B25	45 		db	&H45	; 327 Е E
0B26	35 		db	&H35	; 326 5 %
0B27	00 		db	0	; 325
0B28	20 		db	&H20	; 324 Пробел
0B29	4D		db	&H4D	; 323 М M
0B2A	41 		db	&H41	; 322 А A
0B2B	4B 		db	&H4B	; 321 К K
0B2C	34 		db	&H34	; 320 4 $
0B2D	00 		db	0	; 317
0B2E	53 		db	&H53	; 316 С S
0B2F	57 		db	&H57	; 315 В W
0B30	55 		db	&H55	; 314 У U
0B31	33 		db	&H33	; 313 3 #
0B32	2F 		db	&H2F	; 312 / ?
0B33	FC 		db	&HFC	; 311 Резервная клавиша
0B34	5E 		db	&H5E	; 310 Ч ^
0B35	59 		db	&H59	; 307 Ы Y
0B36	43 		db	&H43	; 306 Ц C
0B37	32 		db	&H32	; 305 2 "
0B38	0A		db	&H0A	; 304 Ъ
0B39	51		db	&H51	; 303 Я Q
0B3A	46 		db	&H46	; 302 Ф F
0B3B	4A 		db	&H4A	; 301 Й J
0B3C	31 		db	&H31	; 300 1 !
0B3D	3B		db	&H3B	; 277 ; +
0B3E	09		db	&H09	; 276 ТАБ
0B3F	0D 		db	&H0D	; 275 ВК
0B40	7F 		db	&H7F	; 274 ЗБ
0B41	00 		db	0	; 273
0B42	00 		db	0	; 272
0B43	00 		db	0	; 271
0B44	00 		db	0	; 270
0B45	00 		db	0	; 267
0B46	00 		db	0	; 266
0B47	00 		db	0	; 265
0B48	FF 		db	&HFF	; 264 Автоповтор
0B49	FE 		db	&HFE	; 263 Отжатие СУ или ВР
0B4A	FD		db	&HFD	; 262 РУС/ЛАТ
0B4B	FC 		db	&HFC	; 261 КМП
0B4C	FB		db	&HFB	; 260 ФКС
0B4D	FA		db	&HFA	; 257 Нажатие СУ
0B4E	F9 		db	&HF9	; 256 Нажатие ВР
0B4F	00 		db	0	; 255
0B50	00 		db	0	; 254
0B51	00 		db	0	; 253
0B52	C1 		db	&HC1	; 252 Стрелка вверх
0B53	C2 		db	&HC2	; 251 Стрелка вниз
0B54	C3		db	&HC3	; 250 Стрелка вправо
0B55	C4		db	&HC4	; 247 Стрелка влево
0B56	00 		db	0	; 246
0B57	00 		db	0	; 245
0B58	D3 		db	&HD3	; 244 ПФ4
0B59	D2		db	&HD2	; 243 ПФ3
0B5A	D1 		db	&HD1	; 242 ПФ2
0B5B	D0 		db	&HD0	; 241 ПФ1
0B5C	AD 		db	&HAD	; 240 - (доп)
0B5D	B9 		db	&HB9	; 237 9 (доп)
0B5E	B8 		db	&HB8	; 236 8 (доп)
0B5F	B7 		db	&HB7	; 235 7 (доп)
0B60	AC 		db	&HAC	; 234 , (доп)
0B61	B6 		db	&HB6	; 233 6 (доп)
0B62	B5 		db	&HB5	; 232 5 (доп)
0B63	B4 		db	&HB4	; 231 4 (доп)
0B64	B3 		db	&HB3	; 230 3 (доп)
0B65	B2 		db	&HB2	; 227 2 (доп)
0B66	B1 		db	&HB1	; 226 1 (доп)
0B67	8D 		db	&H8D	; 225 ВВОД (доп)
0B68	AE 		db	&HAE	; 224 . (доп)
0B69	00 		db	0	; 223
0B6A	B0 		db	&HB0	; 222 0 (доп)
0B6B	00 		db	0	; 221
0B6C	00 		db	0	; 220
0B6D	E8 		db	&HE8	; 217 СЛЕД КАДР
0B6E	E7 		db	&HE7	; 216 ПРЕД КАДР
0B6F	E6 		db	&HE6	; 215 ВЫБР
0B70	E5		db	&HE5	; 214 УДАЛ
0B71	E4 		db	&HE4	; 213 ВСТ
0B72	E3		db	&HE3	; 212 НТ
0B73	00		db	0	; 211
0B74	00 		db	0	; 210
0B75	00 		db	0	; 207
0B76	00 		db	0	; 206
0B77	00 		db	0	; 205
0B78	00 		db	0	; 204
0B79	F0 		db	&HF0	; 203 Ф20
0B7A	CB 		db	&HCB	; 202 Ф19
0B7B    CA		db	&HCA	; 201 Ф18
0B7C	C8 		db	&HC8	; 200 Ф17
0B7D	00 		db	0	; 177
0B7E	00 		db	0	; 176
0B7F	E2 		db	&HE2	; 175 ИСП
0B80	E1		db	&HE1	; 174 ПМ
0B81	00		db	0	; 173
0B82	00 		db	0	; 172
0B83	00 		db	0	; 171
0B84	00 		db	0	; 170
0B85	00 		db	0	; 167
0B86	00 		db	0	; 166
0B87	00 		db	0	; 165
0B88	F6 		db	&HF6	; 164 ДОП ВАРИАНТ
0B89	0A		db	&H0A	; 163 Ф13 (ПС)
0B8A	08 		db	&H08	; 162 Ф12 (ВШ)
0B8B	1B 		db	&H1B	; 161 Ф11 (АР2)
0B8C	00 		db	0	; 160
0B8D	00 		db	0	; 157
0B8E	00 		db	0	; 156
0B8F	00 		db	0	; 155
0B90	00 		db	0	; 154
0B91	00 		db	0	; 153
0B92	00 		db	0	; 152
0B93	00 		db	0	; 151
0B94	03 		db	&H03	; 150 ВЫХОД
0B95	F5 		db	&HF5	; 147 ОСНОВН КАДР
0B96	15 		db	&H15	; 146 ОТМЕН
0B97	11 		db	&H11	; 145 ПРОДОЛЖ
0B98	13		db	&H13	; 144 ПРЕРЫВ
0B99	00		db	0	; 143
0B9A	00 		db	0	; 142
0B9B	00 		db	0	; 141
0B9C	00 		db	0	; 140
0B9D	00 		db	0	; 137
0B9E	00 		db	0	; 136
0B9F	00 		db	0	; 135
0BA0	00 		db	0	; 134
0BA1	00 		db	0	; 133
0BA2	F3 		db	&HF3	; 132 Ф5
0BA3	F2 		db	&HF2	; 131 УСТ РЕЖИМА
0BA4	F1		db	&HF1	; 130 ПАУЗА
0BA5	CD		db	&HCD	; 127 ПЕЧАТЬ КАДРА
0BA6	F4 		db	&HF4	; 126 СТОП КАДР
0BA7	00		nop
0BA8	00		nop
0BA9	00 		nop
0BAA	00 		nop
0BAB	00 		nop
0BAC	00 		nop
0BAD	00 		nop
0BAE	00 		nop
0BAF	00 		nop
0BB0	00 		nop
0BB1	00 		nop
0BB2	00 		nop
0BB3	00 		nop
0BB4	00 		nop
0BB5	00 		nop
0BB6	00 		nop
0BB7	00 		nop
0BB8	00 		nop
0BB9	00 		nop
0BBA	00 		nop
0BBB	00 		nop
0BBC	00 		nop
0BBD	00 		nop
0BBE	00 		nop
0BBF	00 		nop
0BC0	C3 0000		jmp	L_0000
0BC3	00 		nop
0BC4	C3 00F1		jmp	L_00F1
0BC7	00 		nop
0BC8	C3 0000		jmp	L_0000
0BCB	00 		nop
0BCC	C3 0899		jmp	L_0899
0BCF	00 		nop
0BD0	C3 0000		jmp	L_0000
0BD3	00 		nop
0BD4	C3 0000		jmp	L_0000
0BD7	00 		nop
0BD8	C3 0000		jmp	L_0000
0BDB	00 		nop
0BDC	C3 0000		jmp	L_0000
0BDF	00 		nop
0BE0	00 		nop
0BE1	00 		nop
0BE2	00 		nop
0BE3	00 		nop
0BE4	00 		nop
0BE5	00 		nop
0BE6	00 		nop
0BE7	00 		nop
0BE8	00 		nop
0BE9	00 		nop
0BEA	00 		nop
0BEB	00 		nop
0BEC	00 		nop
0BED	00 		nop
0BEE	00 		nop
0BEF	00 		nop
0BF0	00 		nop
0BF1	00 		nop
0BF2	00 		nop
0BF3	00 		nop
0BF4	00 		nop
0BF5	00 		nop
0BF6	00 		nop
0BF7	00 		nop
0BF8	00 		nop
0BF9	00 		nop
0BFA	00 		nop
0BFB	00 		nop
0BFC	00 		nop
0BFD	00 		nop
0BFE	00 		nop
0BFF	00 		nop
0C00	00 		nop
0C01	00 		nop
0C02	00 		nop
0C03	00 		nop
0C04	00 		nop
0C05	00 		nop
0C06	00 		nop
0C07	00 		nop
0C08	00 		nop
0C09	00 		nop
0C0A	00 		nop
0C0B	00 		nop
0C0C	00 		nop
0C0D	00 		nop
0C0E	00 		nop
0C0F	00 		nop
0C10	00 		nop
0C11	00 		nop
0C12	00 		nop
0C13	00 		nop
0C14	00 		nop
0C15	00 		nop
0C16	00 		nop
0C17	00 		nop
0C18	00 		nop
0C19	00 		nop
0C1A	00 		nop
0C1B	00 		nop
0C1C	00 		nop
0C1D	00 		nop
0C1E	00 		nop
0C1F	00 		nop
0C20	00 		nop
0C21	00 		nop
0C22	00 		nop
0C23	00 		nop
0C24	00 		nop
0C25	00 		nop
0C26	00 		nop
0C27	00 		nop
0C28	00 		nop
0C29	00 		nop
0C2A	00 		nop
0C2B	00 		nop
0C2C	00 		nop
0C2D	00 		nop
0C2E	00 		nop
0C2F	00 		nop
0C30	00 		nop
0C31	00 		nop
0C32	00 		nop
0C33	00 		nop
0C34	00 		nop
0C35	00 		nop
0C36	00 		nop
0C37	00 		nop
0C38	00 		nop
0C39	00 		nop
0C3A	00 		nop
0C3B	00 		nop
0C3C	00 		nop
0C3D	00 		nop
0C3E	00 		nop
0C3F	00 		nop
0C40	00 		nop
0C41	00 		nop
0C42	00 		nop
0C43	00 		nop
0C44	00 		nop
0C45	00 		nop
0C46	00 		nop
0C47	00 		nop
0C48	00 		nop
0C49	00 		nop
0C4A	00 		nop
0C4B	00 		nop
0C4C	00 		nop
0C4D	00 		nop
0C4E	00 		nop
0C4F	00 		nop
0C50	00 		nop
0C51	00 		nop
0C52	00 		nop
0C53	00 		nop
0C54	00 		nop
0C55	00 		nop
0C56	00 		nop
0C57	00 		nop
0C58	00 		nop
0C59	00 		nop
0C5A	00 		nop
0C5B	00 		nop
0C5C	00 		nop
0C5D	00 		nop
0C5E	00 		nop
0C5F	00 		nop
0C60	00 		nop
0C61	00 		nop
0C62	00 		nop
0C63	00 		nop
0C64	00 		nop
0C65	00 		nop
0C66	00 		nop
0C67	00 		nop
0C68	00 		nop
0C69	00 		nop
0C6A	00 		nop
0C6B	00 		nop
0C6C	00 		nop
0C6D	00 		nop
0C6E	00 		nop
0C6F	00 		nop
0C70	00 		nop
0C71	00 		nop
0C72	00 		nop
0C73	00 		nop
0C74	00 		nop
0C75	00 		nop
0C76	00 		nop
0C77	00 		nop
0C78	00 		nop
0C79	00 		nop
0C7A	00 		nop
0C7B	00 		nop
0C7C	00 		nop
0C7D	00 		nop
0C7E	00 		nop
0C7F	00 		nop
0C80	00 		nop
0C81	00 		nop
0C82	00 		nop
0C83	00 		nop
0C84	00 		nop
0C85	00 		nop
0C86	00 		nop
0C87	00 		nop
0C88	00 		nop
0C89	00 		nop
0C8A	00 		nop
0C8B	00 		nop
0C8C	00 		nop
0C8D	00 		nop
0C8E	00 		nop
0C8F	00 		nop
0C90	00 		nop
0C91	00 		nop
0C92	00 		nop
0C93	00 		nop
0C94	00 		nop
0C95	00 		nop
0C96	00 		nop
0C97	00 		nop
0C98	00 		nop
0C99	00 		nop
0C9A	00 		nop
0C9B	00 		nop
0C9C	00 		nop
0C9D	00 		nop
0C9E	00 		nop
0C9F	00 		nop
0CA0	00 		nop
0CA1	00 		nop
0CA2	00 		nop
0CA3	00 		nop
0CA4	00 		nop
0CA5	00 		nop
0CA6	00 		nop
0CA7	00 		nop
0CA8	00 		nop
0CA9	00 		nop
0CAA	00 		nop
0CAB	00 		nop
0CAC	00 		nop
0CAD	00 		nop
0CAE	00 		nop
0CAF	00 		nop
0CB0	00 		nop
0CB1	00 		nop
0CB2	00 		nop
0CB3	00 		nop
0CB4	00 		nop
0CB5	00 		nop
0CB6	00 		nop
0CB7	00 		nop
0CB8	00 		nop
0CB9	00 		nop
0CBA	00 		nop
0CBB	00 		nop
0CBC	00 		nop
0CBD	00 		nop
0CBE	00 		nop
0CBF	00 		nop
0CC0	00 		nop
0CC1	00 		nop
0CC2	00 		nop
0CC3	00 		nop
0CC4	00 		nop
0CC5	00 		nop
0CC6	00 		nop
0CC7	00 		nop
0CC8	00 		nop
0CC9	00 		nop
0CCA	00 		nop
0CCB	00 		nop
0CCC	00 		nop
0CCD	00 		nop
0CCE	00 		nop
0CCF	00 		nop
0CD0	00 		nop
0CD1	00 		nop
0CD2	00 		nop
0CD3	00 		nop
0CD4	00 		nop
0CD5	00 		nop
0CD6	00 		nop
0CD7	00 		nop
0CD8	00 		nop
0CD9	00 		nop
0CDA	00 		nop
0CDB	00 		nop
0CDC	00 		nop
0CDD	00 		nop
0CDE	00 		nop
0CDF	00 		nop
0CE0	00 		nop
0CE1	00 		nop
0CE2	00 		nop
0CE3	00 		nop
0CE4	00 		nop
0CE5	00 		nop
0CE6	00 		nop
0CE7	00 		nop
0CE8	00 		nop
0CE9	00 		nop
0CEA	00 		nop
0CEB	00 		nop
0CEC	00 		nop
0CED	00 		nop
0CEE	00 		nop
0CEF	00 		nop
0CF0	00 		nop
0CF1	00 		nop
0CF2	00 		nop
0CF3	00 		nop
0CF4	00 		nop
0CF5	00 		nop
0CF6	00 		nop
0CF7	00 		nop
0CF8	00 		nop
0CF9	00 		nop
0CFA	00 		nop
0CFB	00 		nop
0CFC	00 		nop
0CFD	00 		nop
0CFE	00 		nop
0CFF	00 		nop
0D00	00 		nop
0D01	00 		nop
0D02	00 		nop
0D03	00 		nop
0D04	00 		nop
0D05	00 		nop
0D06	00 		nop
0D07	00 		nop
0D08	00 		nop
0D09	00 		nop
0D0A	00 		nop
0D0B	00 		nop
0D0C	00 		nop
0D0D	00 		nop
0D0E	00 		nop
0D0F	00 		nop
0D10	00 		nop
0D11	00 		nop
0D12	00 		nop
0D13	00 		nop
0D14	00 		nop
0D15	00 		nop
0D16	00 		nop
0D17	00 		nop
0D18	00 		nop
0D19	00 		nop
0D1A	00 		nop
0D1B	00 		nop
0D1C	00 		nop
0D1D	00 		nop
0D1E	00 		nop
0D1F	00 		nop
0D20	00 		nop
0D21	00 		nop
0D22	00 		nop
0D23	00 		nop
0D24	00 		nop
0D25	00 		nop
0D26	00 		nop
0D27	00 		nop
0D28	00 		nop
0D29	00 		nop
0D2A	00 		nop
0D2B	00 		nop
0D2C	00 		nop
0D2D	00 		nop
0D2E	00 		nop
0D2F	00 		nop
0D30	00 		nop
0D31	00 		nop
0D32	00 		nop
0D33	00 		nop
0D34	00 		nop
0D35	00 		nop
0D36	00 		nop
0D37	00 		nop
0D38	00 		nop
0D39	00 		nop
0D3A	00 		nop
0D3B	00 		nop
0D3C	00 		nop
0D3D	00 		nop
0D3E	00 		nop
0D3F	00 		nop
0D40	00 		nop
0D41	00 		nop
0D42	00 		nop
0D43	00 		nop
0D44	00 		nop
0D45	00 		nop
0D46	00 		nop
0D47	00 		nop
0D48	00 		nop
0D49	00 		nop
0D4A	00 		nop
0D4B	00 		nop
0D4C	00 		nop
0D4D	00 		nop
0D4E	00 		nop
0D4F	00 		nop
0D50	00 		nop
0D51	00 		nop
0D52	00 		nop
0D53	00 		nop
0D54	00 		nop
0D55	00 		nop
0D56	00 		nop
0D57	00 		nop
0D58	00 		nop
0D59	00 		nop
0D5A	00 		nop
0D5B	00 		nop
0D5C	00 		nop
0D5D	00 		nop
0D5E	00 		nop
0D5F	00 		nop
0D60	00 		nop
0D61	00 		nop
0D62	00 		nop
0D63	00 		nop
0D64	00 		nop
0D65	00 		nop
0D66	00 		nop
0D67	00 		nop
0D68	00 		nop
0D69	00 		nop
0D6A	00 		nop
0D6B	00 		nop
0D6C	00 		nop
0D6D	00 		nop
0D6E	00 		nop
0D6F	00 		nop
0D70	00 		nop
0D71	00 		nop
0D72	00 		nop
0D73	00 		nop
0D74	00 		nop
0D75	00 		nop
0D76	00 		nop
0D77	00 		nop
0D78	00 		nop
0D79	00 		nop
0D7A	00 		nop
0D7B	00 		nop
0D7C	00 		nop
0D7D	00 		nop
0D7E	00 		nop
0D7F	00 		nop
0D80	00 		nop
0D81	00 		nop
0D82	00 		nop
0D83	00 		nop
0D84	00 		nop
0D85	00 		nop
0D86	00 		nop
0D87	00 		nop
0D88	00 		nop
0D89	00 		nop
0D8A	00 		nop
0D8B	00 		nop
0D8C	00 		nop
0D8D	00 		nop
0D8E	00 		nop
0D8F	00 		nop
0D90	00 		nop
0D91	00 		nop
0D92	00 		nop
0D93	00 		nop
0D94	00 		nop
0D95	00 		nop
0D96	00 		nop
0D97	00 		nop
0D98	00 		nop
0D99	00 		nop
0D9A	00 		nop
0D9B	00 		nop
0D9C	00 		nop
0D9D	00 		nop
0D9E	00 		nop
0D9F	00 		nop
0DA0	00 		nop
0DA1	00 		nop
0DA2	00 		nop
0DA3	00 		nop
0DA4	00 		nop
0DA5	00 		nop
0DA6	00 		nop
0DA7	00 		nop
0DA8	00 		nop
0DA9	00 		nop
0DAA	00 		nop
0DAB	00 		nop
0DAC	00 		nop
0DAD	00 		nop
0DAE	00 		nop
0DAF	00 		nop
0DB0	00 		nop
0DB1	00 		nop
0DB2	00 		nop
0DB3	00 		nop
0DB4	00 		nop
0DB5	00 		nop
0DB6	00 		nop
0DB7	00 		nop
0DB8	00 		nop
0DB9	00 		nop
0DBA	00 		nop
0DBB	00 		nop
0DBC	00 		nop
0DBD	00 		nop
0DBE	00 		nop
0DBF	00 		nop
0DC0	00 		nop
0DC1	00 		nop
0DC2	00 		nop
0DC3	00 		nop
0DC4	00 		nop
0DC5	00 		nop
0DC6	00 		nop
0DC7	00 		nop
0DC8	00 		nop
0DC9	00 		nop
0DCA	00 		nop
0DCB	00 		nop
0DCC	00 		nop
0DCD	00 		nop
0DCE	00 		nop
0DCF	00 		nop
0DD0	00 		nop
0DD1	00 		nop
0DD2	00 		nop
0DD3	00 		nop
0DD4	00 		nop
0DD5	00 		nop
0DD6	00 		nop
0DD7	00 		nop
0DD8	00 		nop
0DD9	00 		nop
0DDA	00 		nop
0DDB	00 		nop
0DDC	00 		nop
0DDD	00 		nop
0DDE	00 		nop
0DDF	00 		nop
0DE0	00 		nop
0DE1	00 		nop
0DE2	00 		nop
0DE3	00 		nop
0DE4	00 		nop
0DE5	00 		nop
0DE6	00 		nop
0DE7	00 		nop
0DE8	00 		nop
0DE9	00 		nop
0DEA	00 		nop
0DEB	00 		nop
0DEC	00 		nop
0DED	00 		nop
0DEE	00 		nop
0DEF	00 		nop
0DF0	00 		nop
0DF1	00 		nop
0DF2	00 		nop
0DF3	00 		nop
0DF4	00 		nop
0DF5	00 		nop
0DF6	00 		nop
0DF7	00 		nop
0DF8	00 		nop
0DF9	00 		nop
0DFA	00 		nop
0DFB	00 		nop
0DFC	00 		nop
0DFD	00 		nop
0DFE	00 		nop
0DFF	00 		nop
0E00	00 		nop
0E01	00 		nop
0E02	00 		nop
0E03	00 		nop
0E04	00 		nop
0E05	00 		nop
0E06	00 		nop
0E07	00 		nop
0E08	00 		nop
0E09	00 		nop
0E0A	00 		nop
0E0B	00 		nop
0E0C	00 		nop
0E0D	00 		nop
0E0E	00 		nop
0E0F	00 		nop
0E10	00 		nop
0E11	00 		nop
0E12	00 		nop
0E13	00 		nop
0E14	00 		nop
0E15	00 		nop
0E16	00 		nop
0E17	00 		nop
0E18	00 		nop
0E19	00 		nop
0E1A	00 		nop
0E1B	00 		nop
0E1C	00 		nop
0E1D	00 		nop
0E1E	00 		nop
0E1F	00 		nop
0E20	00 		nop
0E21	00 		nop
0E22	00 		nop
0E23	00 		nop
0E24	00 		nop
0E25	00 		nop
0E26	00 		nop
0E27	00 		nop
0E28	00 		nop
0E29	00 		nop
0E2A	00 		nop
0E2B	00 		nop
0E2C	00 		nop
0E2D	00 		nop
0E2E	00 		nop
0E2F	00 		nop
0E30	00 		nop
0E31	00 		nop
0E32	00 		nop
0E33	00 		nop
0E34	00 		nop
0E35	00 		nop
0E36	00 		nop
0E37	00 		nop
0E38	00 		nop
0E39	00 		nop
0E3A	00 		nop
0E3B	00 		nop
0E3C	00 		nop
0E3D	00 		nop
0E3E	00 		nop
0E3F	00 		nop
0E40	00 		nop
0E41	00 		nop
0E42	00 		nop
0E43	00 		nop
0E44	00 		nop
0E45	00 		nop
0E46	00 		nop
0E47	00 		nop
0E48	00 		nop
0E49	00 		nop
0E4A	00 		nop
0E4B	00 		nop
0E4C	00 		nop
0E4D	00 		nop
0E4E	00 		nop
0E4F	00 		nop
0E50	00 		nop
0E51	00 		nop
0E52	00 		nop
0E53	00 		nop
0E54	00 		nop
0E55	00 		nop
0E56	00 		nop
0E57	00 		nop
0E58	00 		nop
0E59	00 		nop
0E5A	00 		nop
0E5B	00 		nop
0E5C	00 		nop
0E5D	00 		nop
0E5E	00 		nop
0E5F	00 		nop
0E60	00 		nop
0E61	00 		nop
0E62	00 		nop
0E63	00 		nop
0E64	00 		nop
0E65	00 		nop
0E66	00 		nop
0E67	00 		nop
0E68	00 		nop
0E69	00 		nop
0E6A	00 		nop
0E6B	00 		nop
0E6C	00 		nop
0E6D	00 		nop
0E6E	00 		nop
0E6F	00 		nop
0E70	00 		nop
0E71	00 		nop
0E72	00 		nop
0E73	00 		nop
0E74	00 		nop
0E75	00 		nop
0E76	00 		nop
0E77	00 		nop
0E78	00 		nop
0E79	00 		nop
0E7A	00 		nop
0E7B	00 		nop
0E7C	00 		nop
0E7D	00 		nop
0E7E	00 		nop
0E7F	00 		nop
0E80	00 		nop
0E81	00 		nop
0E82	00 		nop
0E83	00 		nop
0E84	00 		nop
0E85	00 		nop
0E86	00 		nop
0E87	00 		nop
0E88	00 		nop
0E89	00 		nop
0E8A	00 		nop
0E8B	00 		nop
0E8C	00 		nop
0E8D	00 		nop
0E8E	00 		nop
0E8F	00 		nop
0E90	00 		nop
0E91	00 		nop
0E92	00 		nop
0E93	00 		nop
0E94	00 		nop
0E95	00 		nop
0E96	00 		nop
0E97	00 		nop
0E98	00 		nop
0E99	00 		nop
0E9A	00 		nop
0E9B	00 		nop
0E9C	00 		nop
0E9D	00 		nop
0E9E	00 		nop
0E9F	00 		nop
0EA0	00 		nop
0EA1	00 		nop
0EA2	00 		nop
0EA3	00 		nop
0EA4	00 		nop
0EA5	00 		nop
0EA6	00 		nop
0EA7	00 		nop
0EA8	00 		nop
0EA9	00 		nop
0EAA	00 		nop
0EAB	00 		nop
0EAC	00 		nop
0EAD	00 		nop
0EAE	00 		nop
0EAF	00 		nop
0EB0	00 		nop
0EB1	00 		nop
0EB2	00 		nop
0EB3	00 		nop
0EB4	00 		nop
0EB5	00 		nop
0EB6	00 		nop
0EB7	00 		nop
0EB8	00 		nop
0EB9	00 		nop
0EBA	00 		nop
0EBB	00 		nop
0EBC	00 		nop
0EBD	00 		nop
0EBE	00 		nop
0EBF	00 		nop
0EC0	00 		nop
0EC1	00 		nop
0EC2	00 		nop
0EC3	00 		nop
0EC4	00 		nop
0EC5	00 		nop
0EC6	00 		nop
0EC7	00 		nop
0EC8	00 		nop
0EC9	00 		nop
0ECA	00 		nop
0ECB	00 		nop
0ECC	00 		nop
0ECD	00 		nop
0ECE	00 		nop
0ECF	00 		nop
0ED0	00 		nop
0ED1	00 		nop
0ED2	00 		nop
0ED3	00 		nop
0ED4	00 		nop
0ED5	00 		nop
0ED6	00 		nop
0ED7	00 		nop
0ED8	00 		nop
0ED9	00 		nop
0EDA	00 		nop
0EDB	00 		nop
0EDC	00 		nop
0EDD	00 		nop
0EDE	00 		nop
0EDF	00 		nop
0EE0	00 		nop
0EE1	00 		nop
0EE2	00 		nop
0EE3	00 		nop
0EE4	00 		nop
0EE5	00 		nop
0EE6	00 		nop
0EE7	00 		nop
0EE8	00 		nop
0EE9	00 		nop
0EEA	00 		nop
0EEB	00 		nop
0EEC	00 		nop
0EED	00 		nop
0EEE	00 		nop
0EEF	00 		nop
0EF0	00 		nop
0EF1	00 		nop
0EF2	00 		nop
0EF3	00 		nop
0EF4	00 		nop
0EF5	00 		nop
0EF6	00 		nop
0EF7	00 		nop
0EF8	00 		nop
0EF9	00 		nop
0EFA	00 		nop
0EFB	00 		nop
0EFC	00 		nop
0EFD	00 		nop
0EFE	00 		nop
0EFF	00 		nop
0F00	00 		nop
0F01	00 		nop
0F02	00 		nop
0F03	00 		nop
0F04	00 		nop
0F05	00 		nop
0F06	00 		nop
0F07	00 		nop
0F08	00 		nop
0F09	00 		nop
0F0A	00 		nop
0F0B	00 		nop
0F0C	00 		nop
0F0D	00 		nop
0F0E	00 		nop
0F0F	00 		nop
0F10	00 		nop
0F11	00 		nop
0F12	00 		nop
0F13	00 		nop
0F14	00 		nop
0F15	00 		nop
0F16	00 		nop
0F17	00 		nop
0F18	00 		nop
0F19	00 		nop
0F1A	00 		nop
0F1B	00 		nop
0F1C	00 		nop
0F1D	00 		nop
0F1E	00 		nop
0F1F	00 		nop
0F20	00 		nop
0F21	00 		nop
0F22	00 		nop
0F23	00 		nop
0F24	00 		nop
0F25	00 		nop
0F26	00 		nop
0F27	00 		nop
0F28	00 		nop
0F29	00 		nop
0F2A	00 		nop
0F2B	00 		nop
0F2C	00 		nop
0F2D	00 		nop
0F2E	00 		nop
0F2F	00 		nop
0F30	00 		nop
0F31	00 		nop
0F32	00 		nop
0F33	00 		nop
0F34	00 		nop
0F35	00 		nop
0F36	00 		nop
0F37	00 		nop
0F38	00 		nop
0F39	00 		nop
0F3A	00 		nop
0F3B	00 		nop
0F3C	00 		nop
0F3D	00 		nop
0F3E	00 		nop
0F3F	00 		nop
0F40	00 		nop
0F41	00 		nop
0F42	00 		nop
0F43	00 		nop
0F44	00 		nop
0F45	00 		nop
0F46	00 		nop
0F47	00 		nop
0F48	00 		nop
0F49	00 		nop
0F4A	00 		nop
0F4B	00 		nop
0F4C	00 		nop
0F4D	00 		nop
0F4E	00 		nop
0F4F	00 		nop
0F50	00 		nop
0F51	00 		nop
0F52	00 		nop
0F53	00 		nop
0F54	00 		nop
0F55	00 		nop
0F56	00 		nop
0F57	00 		nop
0F58	00 		nop
0F59	00 		nop
0F5A	00 		nop
0F5B	00 		nop
0F5C	00 		nop
0F5D	00 		nop
0F5E	00 		nop
0F5F	00 		nop
0F60	00 		nop
0F61	00 		nop
0F62	00 		nop
0F63	00 		nop
0F64	00 		nop
0F65	00 		nop
0F66	00 		nop
0F67	00 		nop
0F68	00 		nop
0F69	00 		nop
0F6A	00 		nop
0F6B	00 		nop
0F6C	00 		nop
0F6D	00 		nop
0F6E	00 		nop
0F6F	00 		nop
0F70	00 		nop
0F71	00 		nop
0F72	00 		nop
0F73	00 		nop
0F74	00 		nop
0F75	00 		nop
0F76	00 		nop
0F77	00 		nop
0F78	00 		nop
0F79	00 		nop
0F7A	00 		nop
0F7B	00 		nop
0F7C	00 		nop
0F7D	00 		nop
0F7E	00 		nop
0F7F	00 		nop
0F80	00 		nop
0F81	00 		nop
0F82	00 		nop
0F83	00 		nop
0F84	00 		nop
0F85	00 		nop
0F86	00 		nop
0F87	00 		nop
0F88	00 		nop
0F89	00 		nop
0F8A	00 		nop
0F8B	00 		nop
0F8C	00 		nop
0F8D	00 		nop
0F8E	00 		nop
0F8F	00 		nop
0F90	00 		nop
0F91	00 		nop
0F92	00 		nop
0F93	00 		nop
0F94	00 		nop
0F95	00 		nop
0F96	00 		nop
0F97	00 		nop
0F98	00 		nop
0F99	00 		nop
0F9A	00 		nop
0F9B	00 		nop
0F9C	00 		nop
0F9D	00 		nop
0F9E	00 		nop
0F9F	00 		nop
0FA0	00 		nop
0FA1	00 		nop
0FA2	00 		nop
0FA3	00 		nop
0FA4	00 		nop
0FA5	00 		nop
0FA6	00 		nop
0FA7	00 		nop
0FA8	00 		nop
0FA9	00 		nop
0FAA	00 		nop
0FAB	00 		nop
0FAC	00 		nop
0FAD	00 		nop
0FAE	00 		nop
0FAF	00 		nop
0FB0	00 		nop
0FB1	00 		nop
0FB2	00 		nop
0FB3	00 		nop
0FB4	00 		nop
0FB5	00 		nop
0FB6	00 		nop
0FB7	00 		nop
0FB8	00 		nop
0FB9	00 		nop
0FBA	00 		nop
0FBB	00 		nop
0FBC	00 		nop
0FBD	00 		nop
0FBE	00 		nop
0FBF	00 		nop
0FC0	00 		nop
0FC1	00 		nop
0FC2	00 		nop
0FC3	00 		nop
0FC4	00 		nop
0FC5	00 		nop
0FC6	00 		nop
0FC7	00 		nop
0FC8	00 		nop
0FC9	00 		nop
0FCA	00 		nop
0FCB	00 		nop
0FCC	00 		nop
0FCD	00 		nop
0FCE	00 		nop
0FCF	00 		nop
0FD0	00 		nop
0FD1	00 		nop
0FD2	00 		nop
0FD3	00 		nop
0FD4	00 		nop
0FD5	00 		nop
0FD6	00 		nop
0FD7	00 		nop
0FD8	00 		nop
0FD9	00 		nop
0FDA	00 		nop
0FDB	00 		nop
0FDC	00 		nop
0FDD	00 		nop
0FDE	00 		nop
0FDF	00 		nop
0FE0	00 		nop
0FE1	00 		nop
0FE2	00 		nop
0FE3	00 		nop
0FE4	00 		nop
0FE5	00 		nop
0FE6	00 		nop
0FE7	00 		nop
0FE8	00 		nop
0FE9	00 		nop
0FEA	00 		nop
0FEB	00 		nop
0FEC	00 		nop
0FED	00 		nop
0FEE	00 		nop
0FEF	00 		nop
0FF0	00 		nop
0FF1	00 		nop
0FF2	00 		nop
0FF3	00 		nop
0FF4	00 		nop
0FF5	00 		nop
0FF6	00 		nop
0FF7	00 		nop
0FF8	00 		nop
0FF9	00 		nop
0FFA	00 		nop
0FFB	00 		nop
0FFC	00 		nop
0FFD	00 		nop
0FFE	00 		nop
0FFF	00 		nop
1000	00 		nop
